{"version":3,"sources":["pages/indices/indexTemplates/view.js","components/AntTabs/index.js","redux/actions/indexTemplateActions.js","components/Json2Html/index.js"],"names":["useStyles","makeStyles","theme","formControl","minWidth","edit","width","minHeight","Divider","styled","MuiDivider","spacing","Box","MuiBox","positions","Card","MuiCard","Typography","MuiTypography","Button","MuiButton","palette","tabs","label","connect","store","indexTemplateReducers","dispatch","template","templates","comments","history","useHistory","classes","useState","selectedTemplate","setSelectedTemplate","indexPatternText","setIndexPatternText","tabIndex","setTabIndex","mappingMode","setMappingMode","settingMode","setSettingMode","mappingsJson","setMappingsJson","settingsJson","setSettingsJson","openMessage","setOpenMessage","useEffect","setIndexTemplateAction","setIndexTemplatesAction","location","pathname","substring","lastIndexOf","join","JSON","stringify","setIndexTemplateCommentsAction","Fragment","title","variant","gutterBottom","display","my","container","item","xs","align","value","onChange","event","push","handleTemplateChange","target","style","map","sort","name","key","color","onClick","className","placeholder","disabled","index","component","row","checked","control","m","overflow","Json2html","json","type","autoFocus","open","fullWidth","Tab","withStyles","root","textTransform","fontWeight","typography","fontWeightRegular","marginRight","opacity","fontWeightMedium","selected","props","disableRipple","AntTabs","React","state","setState","indicatorColor","textColor","scrollButtons","tab","id","icon","role","hidden","aria-labelledby","client","Client","call","uri","then","response","SET_INDEX_TEMPLATES","payload","data","filter","startsWith","addIndexTemplateAction","index_patterns","settings","mappings","method","deleteIndexTemplateAction","SET_INDEX_TEMPLATE","undefined","hits","length","SET_COMMENTS","list","addCommentsAction","updatedComment","Render","validJson","parse","error","comment","forEach","sourceAsMap","topFields","val","cursor","flatJsonMap","flat","formatKeyFlatJsonMap","Object","keys","replaceKey","replace","sortKey","suffix","border","cellSpacing","cellPadding","field","endsWith","obj","etc","k","find","o","mappingName","includes","onKeyPress","e","n","res","catch","err","console","log","defaultValue","MappingsJson2html","flatSettingsMap","mt","SettingsJson2html"],"mappings":"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","file":"static/js/49.37ddcfed.chunk.js","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport Helmet from 'react-helmet';\r\nimport AntTabs from \"~/components/AntTabs\";\r\nimport Json2html from \"~/components/Json2Html\"\r\n\r\nimport {\r\n    Box as MuiBox,\r\n    Button as MuiButton,\r\n    Card as MuiCard,\r\n    CardContent,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogTitle,\r\n    Divider as MuiDivider,\r\n    FormControl,\r\n    FormControlLabel,\r\n    Grid,\r\n    InputLabel,\r\n    MenuItem,\r\n    Radio,\r\n    RadioGroup,\r\n    Select,\r\n    TextareaAutosize,\r\n    TextField,\r\n    Typography as MuiTypography\r\n} from \"@material-ui/core\";\r\n\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {palette, positions, spacing} from \"@material-ui/system\";\r\nimport {connect} from \"react-redux\";\r\nimport {setIndexTemplateAction, setIndexTemplatesAction, setIndexTemplateCommentsAction} from \"../../../redux/actions/indexTemplateActions\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        minWidth: 250,\r\n    },\r\n    edit: {\r\n        width: '100%',\r\n        minHeight: '500px'\r\n    },\r\n}));\r\n\r\nconst Divider = styled(MuiDivider)(spacing);\r\nconst Box = styled(MuiBox)(spacing, positions);\r\nconst Card = styled(MuiCard)(spacing);\r\nconst Typography = styled(MuiTypography)(spacing, positions);\r\nconst Button = styled(MuiButton)(spacing, positions, palette);\r\n\r\nconst tabs = [{label: \"매핑\"}, {label: \"셋팅\"}]\r\n\r\nlet message = \"\"\r\nfunction View({ dispatch, template, templates, comments}) {\r\n    const history = useHistory()\r\n    const classes = useStyles();\r\n    const [selectedTemplate, setSelectedTemplate] = useState(\"\")\r\n    const [indexPatternText, setIndexPatternText] = useState(\"\")\r\n\r\n    const [tabIndex, setTabIndex] = useState(0)\r\n\r\n    const [mappingMode, setMappingMode] = useState(\"form\")\r\n    const [settingMode, setSettingMode] = useState(\"form\")\r\n\r\n    const [mappingsJson, setMappingsJson] = useState(\"\")\r\n    const [settingsJson, setSettingsJson] = useState(\"\")\r\n\r\n    const [openMessage, setOpenMessage] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (selectedTemplate !== \"\") {\r\n            dispatch(setIndexTemplateAction({template: selectedTemplate}))\r\n            dispatch(setIndexTemplatesAction())\r\n        } else {\r\n            // eslint-disable-next-line no-restricted-globals\r\n            setSelectedTemplate(location.pathname.substring(location.pathname.lastIndexOf(\"/\") + 1))\r\n        }\r\n    }, [selectedTemplate]) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    useEffect(() => {\r\n        setIndexPatternText((template['index_patterns'] || []).join(\",\"))\r\n    }, [template['index_patterns']]) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    useEffect(() => {\r\n        setMappingsJson(JSON.stringify((template['mappings'] || {}), null, 4))\r\n        // setMappingsJson(JSON.stringify(((template['mappings'] || {})['properties']), null, 4))\r\n\r\n    }, [template['mappings']]) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    useEffect(() => {\r\n        setSettingsJson(JSON.stringify(((template['settings'] || {})['index']), null, 4))\r\n    }, [template['settings']]) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    useEffect(() => {\r\n        dispatch(setIndexTemplateCommentsAction())\r\n    }) \r\n\r\n    \r\n    function handleTemplateChange(template) {\r\n        history.push(`../indices-templates/${template}`)\r\n        setSelectedTemplate(template)\r\n    }\r\n    function handleTabChane(index) {\r\n        setTabIndex(index)\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Helmet title=\"템플릿 조회\"/>\r\n\r\n            <Typography variant=\"h3\"\r\n                        gutterBottom\r\n                        display=\"inline\"\r\n            >\r\n                템플릿 조회\r\n            </Typography>\r\n\r\n            <Divider my={6}/>\r\n\r\n            <Grid container>\r\n                <Grid item xs={6}>\r\n                    <Box align={'left'}>\r\n                        <FormControl>\r\n                            <InputLabel>템플릿</InputLabel>\r\n                            <Select value={selectedTemplate}\r\n                                    onChange={event => handleTemplateChange(event.target.value)}\r\n                                    style={{minWidth: 250}}\r\n                            >\r\n                                {\r\n                                    templates.map(template => template['name']).sort().map(name => <MenuItem key={name} value={name}>{name}</MenuItem>)\r\n                                    // templates.map(template => <MenuItem key={template['name']} value={template['name']}>{template['name']}</MenuItem>)\r\n                                }\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Box>\r\n                </Grid>\r\n                <Grid item xs={6}>\r\n\r\n\r\n                    <Box align={'right'}>\r\n\r\n                        <Button variant=\"outlined\"\r\n                                color={\"primary\"}\r\n                                onClick={() => history.push(`${selectedTemplate}/edit`)}\r\n                        >수정</Button>\r\n                    </Box>\r\n\r\n                </Grid>\r\n            </Grid>\r\n\r\n            <FormControl className={classes.formControl}>\r\n                <TextField label=\"인덱스 패턴\"\r\n                           placeholder={\"access-log-*,error-log-*\"}\r\n                           value={indexPatternText}\r\n                           onChange={event => setIndexPatternText(event.target.value)}\r\n                           disabled\r\n                />\r\n            </FormControl>\r\n\r\n            <br/><br/>\r\n\r\n\r\n            <AntTabs tabs={tabs}\r\n                     tabIndex={tabIndex}\r\n                     onChange={handleTabChane}\r\n            />\r\n\r\n            <br/>\r\n\r\n\r\n            <Box display={tabIndex === 0 ? \"block\" : \"none\"}>\r\n                {/* 맵핑 */}\r\n                <FormControl component=\"fieldset\">\r\n                    <RadioGroup row onChange={event => setMappingMode(event.target.value)}>\r\n                        <FormControlLabel value=\"form\"\r\n                                          checked={mappingMode === \"form\"}\r\n                                          control={<Radio color=\"primary\"/>}\r\n                                          label=\"폼\"\r\n                        />\r\n                        <FormControlLabel value=\"json\"\r\n                                          checked={mappingMode === \"json\"}\r\n                                          control={<Radio color=\"primary\"/>}\r\n                                          label=\"json\"\r\n                        />\r\n                    </RadioGroup>\r\n                </FormControl>\r\n                {\r\n                    mappingMode === \"form\" ?\r\n                        <Card>\r\n                            <CardContent m={0}>\r\n                                <Box style={{overflow: \"auto\", minWidth: \"700px\"}}>\r\n                                    {Json2html({json: mappingsJson, type: \"mappings\", name:selectedTemplate, comments, dispatch})}\r\n                                </Box>\r\n                            </CardContent>\r\n                        </Card>\r\n                        :\r\n                        <Card>\r\n                            <CardContent>\r\n                                <Box>\r\n                                    <TextareaAutosize className={classes.edit}\r\n                                                      value={mappingsJson}\r\n                                                      onChange={event => setMappingsJson(event.target.value)}\r\n                                                      autoFocus\r\n                                                      disabled\r\n                                    />\r\n                                </Box>\r\n                            </CardContent>\r\n                        </Card>\r\n                }\r\n            </Box>\r\n\r\n            <Box display={tabIndex === 1 ? \"block\" : \"none\"}>\r\n                {/* 설정 */}\r\n                <FormControl component=\"fieldset\">\r\n                    <RadioGroup row onChange={event => setSettingMode(event.target.value)}>\r\n                        <FormControlLabel value=\"form\"\r\n                                          checked={settingMode === \"form\"}\r\n                                          control={<Radio color=\"primary\"/>}\r\n                                          label=\"폼\"\r\n                        />\r\n                        <FormControlLabel value=\"json\"\r\n                                          checked={settingMode === \"json\"}\r\n                                          control={<Radio color=\"primary\"/>}\r\n                                          label=\"json\"\r\n                        />\r\n                    </RadioGroup>\r\n                </FormControl>\r\n                {\r\n                    settingMode === \"form\" ?\r\n                        <Card>\r\n                            <CardContent m={0}>\r\n                                {Json2html({json: template, type: \"settings\", name: selectedTemplate, comments:comments, dispatch})}\r\n                            </CardContent>\r\n                        </Card>\r\n                        :\r\n                        <Card>\r\n                            <CardContent>\r\n                                <Box>\r\n                                    <TextareaAutosize className={classes.edit}\r\n                                                      value={settingsJson}\r\n                                                      onChange={event => setSettingsJson(event.target.value)}\r\n                                                      disabled\r\n                                    />\r\n                                </Box>\r\n                            </CardContent>\r\n                        </Card>\r\n                }\r\n            </Box>\r\n\r\n            <Dialog open={openMessage}\r\n                    fullWidth={true}>\r\n                <DialogTitle>오류</DialogTitle>\r\n                <DialogContent>\r\n                    {message}\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button autoFocus onClick={() => setOpenMessage(false)}>\r\n                        확인\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default connect(store => ({...store.indexTemplateReducers}))(View);","// React components\r\nimport React from \"react\";\r\nimport PropTypes from 'prop-types';\r\n// Material components\r\nimport {withStyles} from '@material-ui/core/styles';\r\nimport {Box as MuiBox, Divider as MuiDivider, Tab as AntTab, Tabs, Typography} from \"@material-ui/core\";\r\nimport styled from \"styled-components\";\r\nimport {spacing} from \"@material-ui/system\";\r\n\r\n\r\nconst Divider = styled(MuiDivider)(spacing);\r\nconst Box = styled(MuiBox)(spacing);\r\n\r\n// const useStyles = makeStyles((theme) => ({\r\n//     root: {\r\n//         flexGrow: 1,\r\n//         width: '100%',\r\n//         backgroundColor: theme.palette.background.paper\r\n//     },\r\n//     indicator: {\r\n//         backgroundColor: '#1890ff',\r\n//     },\r\n// }));\r\n\r\nconst Tab = withStyles((theme) => ({\r\n    root: {\r\n        textTransform: 'none',\r\n        minWidth: 72,\r\n        fontWeight: theme.typography.fontWeightRegular,\r\n        marginRight: theme.spacing(2),\r\n        '&:hover': {\r\n            color: '#40a9ff',\r\n            opacity: 1,\r\n        },\r\n        '&$selected': {\r\n            color: '#1890ff',\r\n            fontWeight: theme.typography.fontWeightMedium,\r\n        },\r\n        '&:focus': {\r\n            color: '#40a9ff',\r\n        },\r\n    },\r\n    selected: {},\r\n}), {index: 1})((props) => <AntTab disableRipple {...props} />);\r\n\r\n\r\nfunction TabPanel(props) {\r\n    const {key, children, value, index} = props;\r\n    return (\r\n        <Typography\r\n            key={key}\r\n            component=\"div\"\r\n            role=\"tabpanel\"\r\n            hidden={value !== index}\r\n            id={`scrollable-auto-tabpanel-${index}`}\r\n            aria-labelledby={`scrollable-auto-tab-${index}`}\r\n        >\r\n            {value === index && <Box >\r\n                <children key={key} />\r\n            </Box>}\r\n        </Typography>\r\n    );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n    key: PropTypes.any,\r\n    children: PropTypes.node,\r\n    index: PropTypes.any,\r\n    value: PropTypes.any,\r\n};\r\n\r\n\r\n\r\nfunction AntTabs({tabs, tabIndex = 0, onChange}) {\r\n    const [state, setState] = React.useState({tabIndex: tabIndex});\r\n    const handleChange = (event, tabIndex) => {\r\n        setState({\r\n            tabIndex: tabIndex\r\n        })\r\n        if (typeof onChange === 'function') {\r\n            onChange(tabIndex)\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Tabs value={state.tabIndex}\r\n                  onChange={handleChange}\r\n                  indicatorColor=\"primary\"\r\n                  textColor=\"primary\"\r\n                  variant=\"scrollable\"\r\n                  scrollButtons=\"auto\"\r\n            >\r\n                {tabs.map((tab, index) => <Tab key={index} id={index} icon={tab.icon} label={tab.label || \"\"} />)}\r\n            </Tabs>\r\n            <Divider />\r\n            {tabs.map((Tab, index) => {\r\n                return (\r\n                    <Box key={index}\r\n                          role=\"tabpanel\"\r\n                          hidden={state.tabIndex !== index}\r\n                          id={`scrollable-auto-tabpanel-${index}`}\r\n                          aria-labelledby={`scrollable-auto-tab-${index}`}>\r\n                        {index === state.tabIndex && Tab.component && <Box> <Tab.component tabs={Tab}/> </Box>}\r\n                    </Box>\r\n                )\r\n            })}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AntTabs;","import Client from '~/Client'\r\nimport {SET_INDEX_TEMPLATE, SET_INDEX_TEMPLATES, SET_COMMENTS} from \"../constants\";\r\n\r\nconst client = new Client()\r\n\r\nexport const setIndexTemplatesAction = () => dispatch => client.call({\r\n    uri: '/elasticsearch/_cat/templates?format=json'\r\n}).then(response => dispatch({\r\n    type: SET_INDEX_TEMPLATES,\r\n    payload: response.data.filter(template => !template['name'].startsWith(\".\"))\r\n}))\r\n\r\n\r\nexport const addIndexTemplateAction = ({template, index_patterns, settings, mappings}) => dispatch => client.call({\r\n    uri: `/elasticsearch/_template/${template}`,\r\n    method: \"PUT\",\r\n    data: {\r\n        index_patterns,\r\n        settings,\r\n        mappings\r\n    }\r\n})\r\n\r\nexport const deleteIndexTemplateAction = ({template}) => dispatch => client.call({\r\n    uri: `/elasticsearch/_template/${template}`,\r\n    method: \"DELETE\",\r\n})\r\n\r\nexport const setIndexTemplateAction = ({ template }) => dispatch => client.call({\r\n    uri: `/elasticsearch/_template/${template}`\r\n}).then(response => dispatch({type: SET_INDEX_TEMPLATE, payload: response.data[template]}))\r\n\r\n\r\nexport const setIndexTemplateCommentsAction = () => dispatch => client.call({\r\n    uri: `/templates/comments`,\r\n    method: \"GET\",\r\n}).then(response => {\r\n    if(response.data == undefined || response.data.hits == undefined || response.data.hits.hits.length === 0){\r\n        dispatch({type: SET_COMMENTS, payload: []})\r\n    }else{\r\n        let list = response.data.hits.hits.map((item) => {\r\n            return item;\r\n        })\r\n        dispatch({type: SET_COMMENTS, payload: list})\r\n    }\r\n})\r\n\r\nexport const addCommentsAction = ({id, name, updatedComment}) => dispatch => client.call({\r\n    uri: `/templates/comments`,\r\n    method: \"PUT\",\r\n    data: {\r\n        \"name\": name,\r\n        \"id\": id,\r\n        \"data\": updatedComment\r\n    }\r\n})","import React from \"react\";\r\nimport {\r\n    Box,\r\n    Button,\r\n    Card as MuiCard,\r\n    CardContent,\r\n    Checkbox,\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableHead,\r\n    TableRow,\r\n    TextField, \r\n    Typography as MuiTypography\r\n} from \"@material-ui/core\";\r\nimport flat from \"flat\";\r\nimport styled from \"styled-components\";\r\nimport {positions, spacing} from \"@material-ui/system\";\r\n\r\nimport {addCommentsAction, setIndexTemplateCommentsAction} from \"../../redux/actions/indexTemplateActions\";\r\n\r\nconst Card = styled(MuiCard)(spacing);\r\nconst Typography = styled(MuiTypography)(spacing, positions);\r\n\r\nfunction SettingsJson2html(settings) {\r\n    if (!settings) {\r\n        return null\r\n    }\r\n\r\n    const flatSettingsMap = flat(settings['settings'] ? settings['settings'] : settings)\r\n    return (\r\n        <React.Fragment>\r\n            <Card>\r\n                <CardContent>\r\n                    <Typography variant={\"h5\"} mt={5}>\r\n                        주요항목\r\n                    </Typography>\r\n                    <Table>\r\n                        <TableHead>\r\n                            <TableRow>\r\n                                <TableCell>샤드 갯수</TableCell>\r\n                                <TableCell>레플리카 갯수</TableCell>\r\n                                <TableCell>리프레쉬 간격</TableCell>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                            <TableRow>\r\n                                <TableCell>{(((settings['settings']||{})['index']||{})['number_of_shards']|| '-')}</TableCell>\r\n                                <TableCell>{(((settings['settings']||{})['index']||{})['number_of_replicas']|| '-')}</TableCell>\r\n                                <TableCell>{(((settings['defaults']||{})['index']||{})['refresh_interval']|| '-')}</TableCell>\r\n                            </TableRow>\r\n                        </TableBody>\r\n                    </Table>\r\n                </CardContent>\r\n            </Card>\r\n\r\n            <br/>\r\n            <Card>\r\n                <CardContent>\r\n                    <Typography variant={\"h5\"} mt={5}>\r\n                        기타항목\r\n                    </Typography>\r\n                    <Table>\r\n                        <TableHead>\r\n                            <TableRow>\r\n                                <TableCell>키</TableCell>\r\n                                <TableCell>값</TableCell>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                            {\r\n                                Object.keys(flatSettingsMap||{}).map(key => {\r\n                                    return (\r\n                                        <TableRow key={key}>\r\n                                            <TableCell>{key}</TableCell>\r\n                                            <TableCell>{flatSettingsMap[key]||''}</TableCell>\r\n                                        </TableRow>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </TableBody>\r\n                    </Table>\r\n                </CardContent>\r\n            </Card>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nfunction MappingsJson2html(json, name, comments, dispatch) {\r\n    \r\n    let comment = {};\r\n    if(comments && comments.length > 0){\r\n        comments.forEach((item) => {\r\n            let map = item.sourceAsMap;\r\n            if(map[\"name\"] == name){\r\n                comment.id = item.id;\r\n                comment.comments = item.sourceAsMap.comments;\r\n                comment.name = item.sourceAsMap.name;\r\n            }\r\n        })\r\n\r\n    }else{\r\n        comment.name = name;\r\n    }\r\n\r\n    const topFields = [\r\n        {title: \"타입\", key: \"type\", component: (val) => {return val}},\r\n        // {title: \"색인\", key: \"enabled\", component: (val) => {return <Checkbox style={{cursor: \"default\"}} checked={val||true}/>}},\r\n        {title: \"색인\", key: \"enabled\", component: (val) => {\r\n            if (val !== undefined && val !== null && val === false) {\r\n                return (\r\n                    <React.Fragment>\r\n                        <Checkbox style={{cursor: \"default\"}} checked={false} />\r\n                    </React.Fragment>\r\n                )\r\n            } else {\r\n                return (\r\n                    <React.Fragment>\r\n                        <Checkbox style={{cursor: \"default\"}} checked={true}/>\r\n                    </React.Fragment>\r\n                )\r\n            }\r\n        }},\r\n        {title: \"분석기\", key: \"analyzer\", component: (val) => {return val}},\r\n        {title: \"copy_to\", key: \"copy_to\", component: (val) => {return val}},\r\n        {title: \"ignore_above\", key: \"ignore_above\", component: (val) => {return val}},\r\n        {title: \"null_value\", key: \"null_value\", component: (val) => {return val}},\r\n        {title: \"doc_values\", key: \"doc_values\", component: (val) => {return val}},\r\n        {title: \"similarity\", key: \"similarity\", component: (val) => {return val||\"\"}},\r\n        {title: \"term_vector\", key: \"term_vector\", component: (val) => {return val}},\r\n        {title: \"store\", key: \"store\", component: (val) => {\r\n                if (val !== undefined && val !== null && val === false) {\r\n                    return (\r\n                        <React.Fragment>\r\n                            <Checkbox style={{cursor: \"default\"}} checked={false} />\r\n                        </React.Fragment>\r\n                    )\r\n                } else {\r\n                    return (\r\n                        <React.Fragment>\r\n                            <Checkbox style={{cursor: \"default\"}} checked={true}/>\r\n                        </React.Fragment>\r\n                    )\r\n                }\r\n            // return <Checkbox style={{cursor: \"default\"}} checked={val||true}/>\r\n        }}\r\n    ]\r\n\r\n\r\n    const flatJsonMap = flat(json['properties'] ? json['properties'] : json)\r\n\r\n    let formatKeyFlatJsonMap = {}\r\n    Object.keys(flatJsonMap).forEach(key => {\r\n        const replaceKey = key.replace(/\\.properties/gi, \"\")\r\n\r\n        const sortKey = replaceKey.substring(0, replaceKey.lastIndexOf(\".\"))\r\n        const suffix = replaceKey.substring(replaceKey.lastIndexOf(\".\") + 1)\r\n        if (!formatKeyFlatJsonMap[sortKey]) {\r\n            formatKeyFlatJsonMap[sortKey] = {}\r\n        }\r\n        formatKeyFlatJsonMap[sortKey][suffix] = flatJsonMap[key]\r\n    })\r\n\r\n    return (\r\n        <table border={1} width={\"100%\"} cellSpacing={0} cellPadding={8}>\r\n            <thead>\r\n            <tr>\r\n                <th>#</th>\r\n                <th>이름</th>\r\n                {\r\n                    topFields.map(field => <th key={field['title']}>{field['title']}</th>)\r\n                }\r\n                <th>기타설정</th>\r\n                <th>코멘트</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            {\r\n                Object.keys(formatKeyFlatJsonMap)\r\n                    .filter(key => !key.endsWith(\".copy_to\")).map((key, index) => {\r\n                    const obj = formatKeyFlatJsonMap[key]\r\n\r\n                    const etc = Object.keys(obj).map(k => {\r\n                        const o = topFields.find(m => m['key'] === k)\r\n                        return o ? null : k + \": \" + obj[k]\r\n                    }).filter(o => o)\r\n\r\n                    let mappingName = key.replace(/\\.fields/gi, \"\");\r\n                    if(mappingName.includes(\"s-prod-v\")){\r\n                        mappingName = \"s-prod-v\";\r\n                    }\r\n\r\n                    return (\r\n                        <tr key={index}>\r\n                            <td align={\"center\"}>{index + 1}</td>\r\n                            <td>{key.replace(/\\.fields/gi, \"\")}</td>\r\n                            {\r\n                                topFields.map(field => <td key={field['title']} align={\"center\"}>{field['component'](obj[field['key']])}</td>)\r\n                            }\r\n                            <td>\r\n                                {etc.join(\", \")}\r\n                            </td>\r\n                            <td>\r\n\r\n                                {mappingName.includes(\".\") ? <></> :\r\n                                     comment.comments === undefined || comment.comments === null  ? \r\n                                    <TextField \r\n                                        onKeyPress={(e) => {\r\n                                            if(e.key =='Enter'){\r\n                                                if(comment.comments == undefined){\r\n                                                    comment.comments = {};\r\n                                                }\r\n                                                let n = mappingName + \"\";\r\n                                                comment.comments[n] = e.target.value;\r\n                                                dispatch(addCommentsAction({\"id\": null, \"name\": name, \"updatedComment\": comment}))\r\n                                                    .then((res) => {\r\n                                                        dispatch(setIndexTemplateCommentsAction())\r\n                                                    }).catch((err) => { \r\n                                                        console.log(err) \r\n                                                    });\r\n                                            }\r\n                                        }}\r\n                                        key={mappingName}\r\n                                        defaultValue={\"\"} />: \r\n                                    <TextField \r\n                                        onKeyPress={\r\n                                            (e) => {\r\n                                                if(e.key =='Enter'){\r\n                                                    let n = mappingName + \"\";\r\n                                                    comment.comments[n] = e.target.value;\r\n                                                    dispatch(addCommentsAction({\"id\": comment.id, \"name\": name, \"updatedComment\": comment}))\r\n                                                        .then((res) => {\r\n                                                            dispatch(setIndexTemplateCommentsAction())\r\n                                                        }).catch((err) => { \r\n                                                            console.log(err) \r\n                                                        });\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                        key={mappingName}\r\n                                        defaultValue={comment.comments[mappingName]} />}\r\n                            </td>\r\n                        </tr>\r\n                    )\r\n                })\r\n            }\r\n            </tbody>\r\n        </table>\r\n    )\r\n}\r\n\r\nfunction Render({json, type, name, comments, dispatch}) {\r\n    let validJson = json\r\n    try {\r\n        if (typeof json === 'string') {\r\n            validJson = JSON.parse(json)\r\n        }\r\n    } catch (error) {\r\n        // console.warn(\"parsing error\", typeof json)\r\n    }\r\n\r\n    if (validJson && type === \"mappings\") {\r\n        return MappingsJson2html(validJson, name, comments, dispatch)\r\n    } else if (validJson && type === \"settings\") {\r\n        return SettingsJson2html(validJson)\r\n    } else {\r\n        return (\r\n            <React.Fragment>\r\n                <Box style={{minHeight: \"150px\"}}>\r\n                </Box>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Render\r\n"],"sourceRoot":""}