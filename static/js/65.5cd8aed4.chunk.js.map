{"version":3,"sources":["redux/actions/toolsActions.js","pages/analysis/tools/index.js"],"names":["client","Client","setAnalyzerList","dispatch","call","uri","then","response","type","SET_TOOLS_ANALYZER_LIST","payload","data","setPluginList","SET_TOOLS_PLUGIN_LIST","useStyles","makeStyles","theme","formControl","minWidth","select","marginLeft","spacing","flex","borderBottom","Card","styled","MuiCard","Divider","MuiDivider","TextField","MuiTextField","BriefResult","resultBrief","total","tokens","i","length","push","token","Table","width","TableBody","map","listItem","listItemIndex","TableRow","hover","key","item","TableCell","DetailResult","resultDetail","result","Typography","variant","dangerouslySetInnerHTML","__html","value","ToolsCard","analyzerList","pluginList","useState","selectedItem","setSelectedItem","toolsTypeAction","setToolsTypeAction","classes","state","setState","index2AnalyzerList","undefined","Object","keys","filter","analyzerKey","startsWith","analysis","settings","index","analyzer","mb","CardContent","id","label","multiline","rows","fullWidth","Box","display","alignItems","justifyContent","p","FormControl","RadioGroup","row","onChange","event","target","FormControlLabel","control","Radio","size","Checkbox","checked","onClick","className","Select","defaultValue","displayEmpty","MenuItem","selected","disabled","Button","color","analyzer_contents","document","getElementById","analyzer_select","split","innerHTML","replace","text","method","SET_TOOLS_ANALYZE_BRIEF_RESULT","actionAnalyzer","catch","error","console","log","plugin","useForQuery","SET_TOOLS_ANALYZE_DETAIL_RESULT","actionPlugin","m","connect","store","toolsReducers","useEffect","Fragment","title","my","Grid","container","xs"],"mappings":"iNAGMA,EAAS,I,MAAIC,GAENC,EAAkB,kBAAM,SAAAC,GAAQ,OAAIH,EAAOI,KAAK,CACzDC,IAAK,kCACNC,MAAK,SAAAC,GAAQ,OAAIJ,EAAS,CAACK,KAAMC,KAAyBC,QAASH,EAASI,YAElEC,EAAgB,kBAAM,SAAAT,GAAQ,OAAIH,EAAOI,KAAK,CAEvDC,IAAK,mBACNC,MAAK,SAAAC,GAAQ,OAAIJ,EAAS,CAACK,KAAMK,KAAuBH,QAASH,EAASI,Y,qLCavEG,EAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,YAAa,CACTC,SAAU,KAEdC,OAAQ,CAAED,SAAU,IAAKE,WAAYJ,EAAMK,QAAQ,GAAIC,KAAM,EAAGC,aAAc,iBAAkB,UAAW,CAAEA,aAAc,wBAGzHC,EAAOC,YAAOC,IAAPD,CAAgBJ,KAEvBM,EAAUF,YAAOG,IAAPH,CAAmBJ,KAE7BQ,EAAYJ,YAAOK,IAAPL,CAAqBJ,KAGvC,SAASU,EAAT,GAAoC,IAAdC,EAAa,EAAbA,YACdC,EAAQ,GACZ,GAAGD,EAAYE,OACX,IAAI,IAAIC,EAAI,EAAGA,EAAIH,EAAYE,OAAOE,OAAQD,IACvCA,EAAI,IAAM,GACTF,EAAMI,KAAK,IAEfJ,EAAMA,EAAMG,OAAO,GAAGC,KAAKL,EAAYE,OAAOC,GAAGG,OAIzD,OAAO,kBAACC,EAAA,EAAD,KACK,kCACI,yBAAKC,MAAM,QACX,yBAAKA,MAAM,QACX,yBAAKA,MAAM,QACX,yBAAKA,MAAM,QACX,yBAAKA,MAAM,SAEf,kBAACC,EAAA,EAAD,KACCR,EAAMG,OAAS,EACZH,EAAMS,KAAI,SAACC,EAAUC,GACjB,OAAQ,kBAACC,EAAA,EAAD,CAAUC,OAAK,EAACC,IAAKH,GACxBD,EAASD,KAAI,SAACM,GAAW,OAAO,kBAACC,EAAA,EAAD,SAAaD,UAGpD,kBAACH,EAAA,EAAD,CAAUC,OAAK,EAACC,IAAK,WAAW,kBAACE,EAAA,EAAD,KAAY,qEAKlE,SAASC,EAAT,GAAsC,IAAfC,EAAc,EAAdA,aAEnB,OAAIA,EAAaC,OAUT,kBAACb,EAAA,EAAD,CAAOQ,IAAI,gBACf,kBAACN,EAAA,EAAD,KACA,kBAACI,EAAA,EAAD,CAAUC,OAAK,GACX,kBAACG,EAAA,EAAD,KACI,kBAACI,EAAA,EAAD,CAAYC,QAAQ,MAApB,MAA6BH,EAAaC,OAAO,GAAGL,KAChD,6BACA,yBAAKQ,wBAA0B,CAACC,OAAQL,EAAaC,OAAO,GAAGK,WAG3E,kBAACZ,EAAA,EAAD,CAAUC,OAAK,GACX,kBAACG,EAAA,EAAD,KACI,kBAACI,EAAA,EAAD,CAAYC,QAAQ,MAApB,MAA8BH,EAAaC,OAAO,GAAGL,KACrD,6BACA,yBAAKQ,wBAA0B,CAACC,OAAQL,EAAaC,OAAO,GAAGK,WAGvE,kBAACZ,EAAA,EAAD,CAAUC,OAAK,GACX,kBAACG,EAAA,EAAD,KACI,kBAACI,EAAA,EAAD,CAAYC,QAAQ,MAApB,MAA6BH,EAAaC,OAAO,GAAGL,KACpD,6BACA,yBAAKQ,wBAA0B,CAACC,OAAQL,EAAaC,OAAO,GAAGK,WAGvE,kBAACZ,EAAA,EAAD,CAAUC,OAAK,GACX,kBAACG,EAAA,EAAD,KACA,kBAACI,EAAA,EAAD,CAAYC,QAAQ,MAApB,MAA6BH,EAAaC,OAAO,GAAGL,KACpD,6BACI,yBAAKQ,wBAA0B,CAACC,OAAQL,EAAaC,OAAO,GAAGK,WAGvE,kBAACZ,EAAA,EAAD,CAAUC,OAAK,GACX,kBAACG,EAAA,EAAD,KACI,kBAACI,EAAA,EAAD,CAAYC,QAAQ,MAApB,MAA6BH,EAAaC,OAAO,GAAGL,KACpD,6BACA,yBAAKQ,wBAA0B,CAACC,OAAQL,EAAaC,OAAO,GAAGK,WAGvE,kBAACZ,EAAA,EAAD,CAAUC,OAAK,GACX,kBAACG,EAAA,EAAD,KACI,kBAACI,EAAA,EAAD,CAAYC,QAAQ,MAApB,MAA6BH,EAAaC,OAAO,GAAGL,KACpD,6BACA,yBAAKQ,wBAA0B,CAACC,OAAQL,EAAaC,OAAO,GAAGK,aAlDhE,kBAAClB,EAAA,EAAD,CAAOQ,IAAI,gBACd,kBAACN,EAAA,EAAD,KACA,kBAACI,EAAA,EAAD,KACI,kBAACI,EAAA,EAAD,KAAY,sEAuD5B,SAASS,EAAT,GAAqF,IAAjEvD,EAAgE,EAAhEA,SAAUwD,EAAsD,EAAtDA,aAAcC,EAAwC,EAAxCA,WAAY5B,EAA4B,EAA5BA,YAAamB,EAAe,EAAfA,aAAe,EACxCU,mBAAS,SAD+B,mBACzEC,EADyE,KAC3DC,EAD2D,OAElCF,mBAAS,SAFyB,mBAEzEG,EAFyE,KAExDC,EAFwD,KAG1EC,EAAUpD,IAHgE,EAIvD+C,oBAAS,GAJ8C,mBAIzEM,EAJyE,KAIlEC,EAJkE,KAM5EC,EAAqB,QACJC,IAAjBX,GAA+C,OAAjBA,GAC9BY,OAAOC,KAAKb,GAAcc,QAAO,SAAAC,GAAW,OAAKA,EAAYC,WAAW,QAAMjC,KAAI,SAAAgC,GAC9E,IAAME,EAAWjB,EAAae,GAAaG,SAASC,MAAMF,SAI1D,YAHiBN,IAAbM,QAAgDN,IAAtBM,EAASG,UACnCR,OAAOC,KAAKI,EAASG,UAAUrC,KAAI,SAAAqC,GAAQ,OAAIV,EAAmBhC,KAAKqC,EAAc,IAAMK,MAExF,wCAqDf,OACI,kBAAC,EAAD,CAAMC,GAAI,GACN,kBAACC,EAAA,EAAD,KACI,kBAAC,EAAD,CAAWC,GAAG,oBAAoBC,MAAM,+EAAmBC,WAAS,EAACC,KAAM,EAAG/B,QAAQ,WAAWgC,WAAS,GAA1G,KACA,kBAACC,EAAA,EAAD,CAAKC,QAAQ,OAAOC,WAAW,SAASC,eAAe,QACnD,kBAACH,EAAA,EAAD,CAAKI,EAAG,GACJ,kBAACC,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAYpC,MAAOO,EAAiB8B,KAAG,EAACC,SAxD3C,SAACC,GACK,UAApBhC,GACkD,MAA3CJ,GAAY,IAAb,SAA6B,IAAIxB,OAClC2B,IAAkBH,GAAY,IAAb,SAA6B,IAAI,IAElDG,EAAgB,SAEpB5D,EAASD,OAEyB,IAA9BmE,EAAmBjC,OACnB2B,EAAgBM,EAAmB,IAEnCN,EAAgB,SAEpB5D,EAASS,MAEbqD,EAAmB+B,EAAMC,OAAOxC,SAyCR,kBAACyC,EAAA,EAAD,CAAkBzC,MAAM,QAAQ0C,QAAS,kBAACC,EAAA,EAAD,CAAOC,KAAK,UAAYlB,MAAM,iBACvE,kBAACe,EAAA,EAAD,CAAkBzC,MAAM,SAAS0C,QAAS,kBAACC,EAAA,EAAD,CAAOC,KAAK,UAAYlB,MAAM,iBACnD,UAApBnB,EAA8B,qCAC3B,kBAACkC,EAAA,EAAD,CAAkBC,QAAU,kBAACG,EAAA,EAAD,CAAUC,QAASpC,EAAOqC,QAAS,WAAOpC,GAAUD,MAAagB,MAAM,gCAKnH,kBAACI,EAAA,EAAD,CAAKI,EAAG,GACJ,kBAACC,EAAA,EAAD,CAAaa,UAAWvC,EAAQjD,aAE5B,kBAACyF,EAAA,EAAD,CAAQxB,GAAG,kBACPzB,MAAOK,EACPiC,SAlDK,SAACC,GAC9BjC,EAAgBiC,EAAMC,OAAOxC,QAkDLkD,aAAa,GACbC,cAAY,GAGgB,UAApB5C,EAC8B,IAA9BK,EAAmBjC,OACf,kBAACyE,EAAA,EAAD,CAAU9D,IAAK,KAAM+D,UAAU,EAAMC,UAAU,EAAMtD,MAAM,SAA3D,wDAEAY,EAAmB3B,KAAI,SAACM,EAAM8B,GAC1B,OAAa,IAAVA,EACQ,kBAAC+B,EAAA,EAAD,CAAU9D,IAAKC,EAAM8D,UAAU,EAAMrD,MAAOT,GAA5C,IAAoDA,EAApD,KAEA,kBAAC6D,EAAA,EAAD,CAAU9D,IAAKC,EAAMS,MAAOT,GAA5B,IAAoCA,EAApC,QAI0B,MAA3CY,GAAY,IAAb,SAA6B,IAAIxB,OAC9B,kBAACyE,EAAA,EAAD,CAAU9D,IAAK,KAAM+D,UAAU,EAAMC,UAAU,EAAMtD,MAAM,SAA3D,0DAEEG,GAAY,IAAb,SAA6B,IAAIlB,KAAI,SAACM,EAAM8B,GACzC,OAAa,IAAVA,EACQ,kBAAC+B,EAAA,EAAD,CAAU9D,IAAKC,EAAM8D,UAAU,EAAMrD,MAAOT,GAA5C,IAAoDA,EAApD,KAEA,kBAAC6D,EAAA,EAAD,CAAU9D,IAAKC,EAAMS,MAAOT,GAA5B,IAAoCA,EAApC,WAOvC,kBAACgE,EAAA,EAAD,CAAQ1D,QAAQ,WAAW2D,MAAM,YAAYT,QA7EpC,WACrB,IAAIU,EAAoBC,SAASC,eAAe,qBAC5CC,EAAkBF,SAASC,eAAe,mBAC1CzG,EAAO,GACX,GAAuB,UAApBqD,EAA6B,CAC5B,IAAIsD,EAAQD,EAAgBE,UAAUD,MAAM,KAC5C,GAAIA,GAA0B,IAAjBA,EAAMlF,OAAc,CAC7B,IAAI0C,EAAQwC,EAAM,GAAGE,QAAQ,IAAK,IAC9BzC,EAAWuC,EAAM,GAAGE,QAAQ,IAAK,IACrC7G,EAAK8G,KAAOP,EAAkBzD,MAC9B9C,EAAKoE,SAAWA,EAChB5E,EDzKc,SAAC2E,EAAOnE,GAAR,OAAiB,SAAAR,GAAQ,OAAIH,EAAOI,KAAK,CACnEC,IAAK,kBAAoByE,EAAQ,YACjC4C,OAAQ,OACR/G,KAAMA,IACPL,MAAK,SAAAC,GAAQ,OAAIJ,EAAS,CAACK,KAAMmH,KAAgCjH,QAASH,EAASI,WCqK7DiH,CAAe9C,EAAOnE,IAAOkH,OAAM,SAACC,GAAUC,QAAQC,IAAIF,WAEnEC,QAAQD,MAAM,MAAOR,OAEvB,CACF,IAAIW,EAASZ,EAAgBE,UAC7BU,EAASA,EAAOT,QAAQ,MAAO,IAE/B7G,EAAKuH,YAAc/D,EACnBxD,EAAKsH,OAASA,EACdtH,EAAK8G,KAAOP,EAAkBzD,MAC9BtD,ED9KgB,SAACQ,GAAD,OAAU,SAAAR,GAAQ,OAAIH,EAAOI,KAAK,CAC1DC,IAAK,yBACLqH,OAAQ,OACR/G,KAAMA,IACPL,MAAK,SAAAC,GAAQ,OAAIJ,EAAS,CAACK,KAAM2H,KAAiCzH,QAASH,EAASI,WC0KlEyH,CAAazH,OAuDd,iBAKJ,kBAAC4E,EAAA,EAAD,CAAK8C,EAAG,GACJ,kBAAChF,EAAA,EAAD,CAAYC,QAAQ,KAAKkC,QAAQ,UAAjC,8BAEJ,kBAACD,EAAA,EAAD,CAAKI,EAAG,GACiB,UAApB3B,EAA8B,kBAACjC,EAAD,CAAaC,YAAaA,IAAmB,kBAACkB,EAAD,CAAcC,aAAcA,OA+B7GmF,uBAAQ,SAAAC,GAAK,MAAK,CAC7B3E,WAAY2E,EAAMC,cAAc5E,WAChCD,aAAc4E,EAAMC,cAAc7E,aAClC3B,YAAcuG,EAAMC,cAAcxG,YAClCmB,aAAeoF,EAAMC,cAAcrF,gBAJxBmF,EAxBf,YAAmF,IAAlEnI,EAAiE,EAAjEA,SAAUwD,EAAuD,EAAvDA,aAAcC,EAAyC,EAAzCA,WAAY5B,EAA6B,EAA7BA,YAAamB,EAAgB,EAAhBA,aAM9D,OALAsF,qBAAU,WACNtI,EAASD,KACTC,EAASS,OACV,IAGC,kBAAC,IAAM8H,SAAP,KACI,kBAAC,IAAD,CAAQC,MAAM,6BACd,kBAACtF,EAAA,EAAD,CAAYC,QAAQ,KAAKkC,QAAQ,UAAjC,4BAIA,kBAAC,EAAD,CAASoD,GAAI,IAEb,kBAACC,EAAA,EAAD,CAAMC,WAAS,EAACzH,QAAS,GACrB,kBAACwH,EAAA,EAAD,CAAM7F,MAAI,EAAC+F,GAAI,IACX,kBAACrF,EAAD,CAAWvD,SAAUA,EAAUwD,aAAcA,EAAcC,WAAYA,EAAa5B,YAAaA,EAAamB,aAAcA,EAAcqD,QAAS,kBAAMuB,QAAQC,IAAI","file":"static/js/65.5cd8aed4.chunk.js","sourcesContent":["import {SET_TOOLS_ANALYZER_LIST, SET_TOOLS_PLUGIN_LIST, SET_TOOLS_ANALYZE_BRIEF_RESULT,  SET_TOOLS_ANALYZE_DETAIL_RESULT} from \"../constants\";\r\nimport Client from '~/Client'\r\n\r\nconst client = new Client()\r\n\r\nexport const setAnalyzerList = () => dispatch => client.call({\r\n    uri: \"/elasticsearch/_all/_settings\",\r\n}).then(response => dispatch({type: SET_TOOLS_ANALYZER_LIST, payload: response.data}))\r\n\r\nexport const setPluginList = () => dispatch => client.call({\r\n    // uri: \"/elasticsearch/_cat/plugins\",\r\n    uri: \"/tools/plugins\"\r\n}).then(response => dispatch({type: SET_TOOLS_PLUGIN_LIST, payload: response.data}))\r\n\r\nexport const actionAnalyzer = (index, data) => dispatch => client.call({\r\n    uri: \"/elasticsearch/\" + index + \"/_analyze\",\r\n    method: 'POST',\r\n    data: data\r\n}).then(response => dispatch({type: SET_TOOLS_ANALYZE_BRIEF_RESULT, payload: response.data}))\r\n\r\nexport const actionPlugin = (data) => dispatch => client.call({\r\n    uri: \"/tools/detail/analysis\",\r\n    method: 'POST',\r\n    data: data\r\n}).then(response => dispatch({type: SET_TOOLS_ANALYZE_DETAIL_RESULT, payload: response.data}))","import React, {useState, useEffect} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { connect } from \"react-redux\";\r\nimport Helmet from 'react-helmet';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport { setAnalyzerList, setPluginList, actionAnalyzer, actionPlugin } from '@actions/toolsActions'\r\n\r\nimport {\r\n    Box, Button,\r\n    Card as MuiCard,\r\n    CardContent, Checkbox,\r\n    Divider as MuiDivider,\r\n    FormControl, FormControlLabel,RadioGroup, Radio,\r\n    Table, TableRow, TableCell,\r\n    Select,\r\n    Grid,\r\n    MenuItem,\r\n    TextField as MuiTextField,\r\n    Typography,\r\n    TableBody,\r\n} from \"@material-ui/core\";\r\n\r\nimport { spacing } from \"@material-ui/system\";\r\nimport { Label } from \"@material-ui/icons\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        minWidth: 250\r\n    },\r\n    select: { minWidth: 120, marginLeft: theme.spacing(1), flex: 1, borderBottom: \"1px solid gray\", '&:hover': { borderBottom: \"1px solid black\" } },\r\n}));\r\n\r\nconst Card = styled(MuiCard)(spacing);\r\n\r\nconst Divider = styled(MuiDivider)(spacing);\r\n\r\nconst TextField = styled(MuiTextField)(spacing);\r\n\r\n\r\nfunction BriefResult({resultBrief}){\r\n    let total = [];\r\n    if(resultBrief.tokens){\r\n        for(let i = 0; i < resultBrief.tokens.length; i++){\r\n            if(i % 5 === 0){\r\n                total.push([]);\r\n            }\r\n            total[total.length-1].push(resultBrief.tokens[i].token)\r\n        }\r\n    }\r\n    \r\n    return <Table>\r\n                <colgroup>\r\n                    <col width=\"20%\" />\r\n                    <col width=\"20%\" />\r\n                    <col width=\"20%\" />\r\n                    <col width=\"20%\" />\r\n                    <col width=\"20%\" />\r\n                </colgroup>\r\n                <TableBody>\r\n                {total.length > 0 ?\r\n                    total.map((listItem, listItemIndex) => {\r\n                        return (<TableRow hover key={listItemIndex}>\r\n                            {listItem.map((item) => { return <TableCell> {item}</TableCell> })}\r\n                        </TableRow>)\r\n                    })\r\n                    : <TableRow hover key={\"nothing\"}><TableCell>{\"검색된 결과가 없습니다\"}</TableCell></TableRow>}\r\n                    </TableBody>\r\n        </Table>;\r\n}\r\n\r\nfunction DetailResult({resultDetail}){\r\n\r\n    if(!resultDetail.result){\r\n        return <Table key=\"empltyDetail\">\r\n            <TableBody>\r\n            <TableRow>\r\n                <TableCell>{\"검색된 결과가 없습니다.\"}</TableCell>\r\n            </TableRow>\r\n            </TableBody>\r\n        </Table>\r\n    }\r\n    \r\n    return (<Table key=\"detailResult\">\r\n        <TableBody>\r\n        <TableRow hover>\r\n            <TableCell>\r\n                <Typography variant=\"h4\">1. {resultDetail.result[2].key}</Typography>\r\n                    <br />\r\n                    <div dangerouslySetInnerHTML={ {__html: resultDetail.result[2].value} }></div>\r\n                </TableCell>\r\n        </TableRow>\r\n        <TableRow hover>\r\n            <TableCell>\r\n                <Typography variant=\"h4\" >2. {resultDetail.result[3].key}</Typography>\r\n                <br />\r\n                <div dangerouslySetInnerHTML={ {__html: resultDetail.result[3].value} }></div>\r\n            </TableCell>\r\n        </TableRow>\r\n        <TableRow hover>\r\n            <TableCell>\r\n                <Typography variant=\"h4\">3. {resultDetail.result[4].key}</Typography>\r\n                <br />\r\n                <div dangerouslySetInnerHTML={ {__html: resultDetail.result[4].value} }></div>\r\n            </TableCell>\r\n        </TableRow>\r\n        <TableRow hover>\r\n            <TableCell>\r\n            <Typography variant=\"h4\">4. {resultDetail.result[5].key}</Typography>\r\n            <br />\r\n                <div dangerouslySetInnerHTML={ {__html: resultDetail.result[5].value} }></div>\r\n            </TableCell>\r\n        </TableRow>\r\n        <TableRow hover>\r\n            <TableCell>\r\n                <Typography variant=\"h4\">5. {resultDetail.result[6].key}</Typography>\r\n                <br />\r\n                <div dangerouslySetInnerHTML={ {__html: resultDetail.result[6].value} }></div>\r\n            </TableCell>\r\n        </TableRow>\r\n        <TableRow hover>\r\n            <TableCell>\r\n                <Typography variant=\"h4\">6. {resultDetail.result[7].key}</Typography>\r\n                <br />\r\n                <div dangerouslySetInnerHTML={ {__html: resultDetail.result[7].value} }></div>\r\n            </TableCell>\r\n        </TableRow>\r\n        </TableBody>\r\n    </Table>\r\n    );\r\n}\r\n\r\nfunction ToolsCard({dispatch, analyzerList, pluginList, resultBrief, resultDetail}) {\r\n    const [selectedItem, setSelectedItem] = useState(\"EMPTY\");\r\n    const [toolsTypeAction, setToolsTypeAction] = useState(\"brief\")\r\n    const classes = useStyles()\r\n    const [state, setState] =useState(false);\r\n\r\n    let index2AnalyzerList = []\r\n    if (analyzerList !== undefined && analyzerList !== null) {\r\n        Object.keys(analyzerList).filter(analyzerKey => !analyzerKey.startsWith(\".\")).map(analyzerKey => {\r\n            const analysis = analyzerList[analyzerKey].settings.index.analysis;\r\n            if (analysis !== undefined && analysis.analyzer !== undefined) {\r\n                Object.keys(analysis.analyzer).map(analyzer => index2AnalyzerList.push(analyzerKey + \"/\" + analyzer))\r\n            }\r\n            return <></>;\r\n        })\r\n    }\r\n\r\n    const handleChange = (event) => {\r\n        if(toolsTypeAction === 'brief'){\r\n            if (((pluginList||{})['plugins']||[]).length !== 0) {\r\n                setSelectedItem(((pluginList||{})['plugins']||[])[0])\r\n            } else {\r\n                setSelectedItem(\"EMPTY\")\r\n            }\r\n            dispatch(setAnalyzerList())\r\n        }else{\r\n            if (index2AnalyzerList.length !== 0) {\r\n                setSelectedItem(index2AnalyzerList[0])\r\n            } else {\r\n                setSelectedItem(\"EMPTY\")\r\n            }\r\n            dispatch(setPluginList())\r\n        }\r\n        setToolsTypeAction(event.target.value)\r\n    };\r\n\r\n\r\n    const handleSelectedItemChange = (event) =>{\r\n        setSelectedItem(event.target.value)\r\n    }\r\n\r\n    const handleToolsClick = () =>{\r\n        let analyzer_contents = document.getElementById(\"analyzer_contents\");\r\n        let analyzer_select = document.getElementById(\"analyzer_select\");\r\n        let data = {};\r\n        if(toolsTypeAction === 'brief') {\r\n            let split = analyzer_select.innerHTML.split('/');\r\n            if (split && split.length === 2) {\r\n                let index = split[0].replace(' ', '');\r\n                let analyzer = split[1].replace(' ', '');\r\n                data.text = analyzer_contents.value;\r\n                data.analyzer = analyzer\r\n                dispatch(actionAnalyzer(index, data)).catch((error) =>{console.log(error)});\r\n            } else {\r\n                console.error('err', split)\r\n            }\r\n        }else {\r\n            let plugin = analyzer_select.innerHTML\r\n            plugin = plugin.replace(/ /gi, \"\");\r\n\r\n            data.useForQuery = state;\r\n            data.plugin = plugin;\r\n            data.text = analyzer_contents.value;\r\n            dispatch(actionPlugin(data));\r\n        }\r\n    }\r\n    return (\r\n        <Card mb={6}>\r\n            <CardContent>\r\n                <TextField id=\"analyzer_contents\" label=\"분석할 내용을 입력해 주세요.\" multiline rows={2} variant=\"outlined\" fullWidth> </TextField>\r\n                <Box display=\"flex\" alignItems=\"center\" justifyContent=\"left\" >\r\n                    <Box p={3}>\r\n                        <FormControl>\r\n                            <RadioGroup value={toolsTypeAction} row onChange={handleChange} >\r\n                                <FormControlLabel value=\"brief\" control={<Radio size=\"small\" />} label=\"간략\" />\r\n                                <FormControlLabel value=\"detail\" control={<Radio size=\"small\" />} label=\"상세\" />\r\n                                {toolsTypeAction === 'brief' ? <></> :  \r\n                                    <FormControlLabel control={ <Checkbox checked={state} onClick={() => {setState(!state)}}/> } label=\"쿼리용도\" />\r\n                                }\r\n                            </RadioGroup>\r\n                        </FormControl>\r\n                    </Box>\r\n                    <Box p={3}>\r\n                        <FormControl className={classes.formControl}>\r\n                            {/* <InputLabel>분석 도구 선택</InputLabel> */}\r\n                            <Select id=\"analyzer_select\" \r\n                                value={selectedItem} \r\n                                onChange={handleSelectedItemChange}\r\n                                defaultValue=\"\"\r\n                                displayEmpty\r\n                                >\r\n                                    {\r\n                                        toolsTypeAction === \"brief\" ?\r\n                                        index2AnalyzerList.length === 0 ?\r\n                                            <MenuItem key={\"no\"} selected={true} disabled={true} value=\"EMPTY\"> 분석기가 없습니다. </MenuItem>\r\n                                            :\r\n                                            index2AnalyzerList.map((item, index) => {\r\n                                                if(index === 0) {\r\n                                                    return <MenuItem key={item} selected={true} value={item}> {item} </MenuItem>;\r\n                                                }else{\r\n                                                    return <MenuItem key={item} value={item}> {item} </MenuItem>;\r\n                                                }\r\n                                            })\r\n                                        :\r\n                                        ((pluginList||{})['plugins']||[]).length === 0 ?\r\n                                            <MenuItem key={\"no\"} selected={true} disabled={true} value=\"EMPTY\"> 분석기가 없습니다. </MenuItem>\r\n                                            :\r\n                                            ((pluginList||{})['plugins']||[]).map((item, index) => {\r\n                                                if(index === 0) {\r\n                                                    return <MenuItem key={item} selected={true} value={item}> {item} </MenuItem>;\r\n                                                }else{\r\n                                                    return <MenuItem key={item} value={item}> {item} </MenuItem>;\r\n                                                }\r\n                                            })\r\n                                    }\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Box>\r\n                    <Button variant=\"outlined\" color=\"secondary\" onClick={handleToolsClick}>\r\n                        분석\r\n                    </Button>\r\n                </Box>\r\n\r\n                <Box m={2}>\r\n                    <Typography variant=\"h4\" display=\"inline\" >분석 결과</Typography>\r\n                </Box>\r\n                <Box p={2}>\r\n                    {toolsTypeAction === 'brief' ? <BriefResult resultBrief={resultBrief} /> :  <DetailResult resultDetail={resultDetail}/>}\r\n                </Box>\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n}\r\n\r\nfunction Tools({ dispatch, analyzerList, pluginList, resultBrief, resultDetail }) {\r\n    useEffect(() => {\r\n        dispatch(setAnalyzerList())\r\n        dispatch(setPluginList())\r\n    }, []) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Helmet title=\"분석도구\"/>\r\n            <Typography variant=\"h3\" display=\"inline\">\r\n                분석도구\r\n            </Typography>\r\n\r\n            <Divider my={6} />\r\n\r\n            <Grid container spacing={6}>\r\n                <Grid item xs={12}>\r\n                    <ToolsCard dispatch={dispatch} analyzerList={analyzerList} pluginList={pluginList}  resultBrief={resultBrief} resultDetail={resultDetail} onClick={() => console.log(\"click\")} />\r\n                </Grid>\r\n            </Grid>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default connect(store => ({\r\n    pluginList: store.toolsReducers.pluginList,\r\n    analyzerList: store.toolsReducers.analyzerList,\r\n    resultBrief : store.toolsReducers.resultBrief,\r\n    resultDetail : store.toolsReducers.resultDetail\r\n}))(Tools);\r\n"],"sourceRoot":""}