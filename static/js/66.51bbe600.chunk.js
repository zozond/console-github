(this["webpackJsonpdsearch-console"]=this["webpackJsonpdsearch-console"]||[]).push([[66],{1371:function(e,t,a){"use strict";a.r(t);var n,r=a(2),o=a(58),c=a(15),l=a(0),s=a.n(l),i=a(87),u=a(38),m=a(11),h=a(130),g=a.n(h),b=a(608),p=a(167),d=a(599),f=a(169),E=a(825),O=a(694),v=a(824),j=a(730),S=a(713),y=a(649),C=a(662),w=a(107),I=a(4),k=Object(m.c)(b.a)(C.a),x=Object(m.c)(p.a)(n||(n=Object(c.a)(["\n  padding: ","px;\n\n  "," {\n    padding: ","px;\n  }\n"])),(function(e){return e.theme.spacing(6)}),(function(e){return e.theme.breakpoints.up("md")}),(function(e){return e.theme.spacing(10)}));t.default=Object(u.b)((function(e){return Object(r.a)({},e.dsearchReducers)}))((function(e){var t=e.dispatch,a=Object(i.f)(),n=Object(l.useState)(""),r=Object(o.a)(n,2),c=r[0],u=r[1],m=Object(l.useState)(!1),h=Object(o.a)(m,2),b=h[0],p=h[1],C=Object(l.useState)(""),W=Object(o.a)(C,2),F=W[0],J=W[1],q=Object(l.useState)(""),R=Object(o.a)(q,2),z=R[0],A=R[1],B=Object(l.useState)(!1),K=Object(o.a)(B,2),N=K[0],U=K[1],_=Object(l.useState)(!1),L=Object(o.a)(_,2),T=L[0],D=L[1];function G(){localStorage.removeItem(I.t),0!==F.length&&0!==z.length?(U(!1),H(c,F,z)):U(!0)}function H(e,n,r){e.startsWith("https://")||e.startsWith("http://")||(e="http://"+e),sessionStorage.setItem(I.u,e),t(Object(w.d)({server:e,email:n,password:r})).then((function(t){console.log("sign in success"),U(!1),T&&localStorage.setItem(I.t,JSON.stringify({hash1:T,hash2:btoa(btoa(btoa(e))),hash3:btoa(btoa(btoa(n))),hash4:btoa(btoa(btoa(r)))})),a.replace("/cluster")})).catch((function(e){U(!0),console.log(e)}))}return Object(l.useEffect)((function(){var e=localStorage.getItem(I.u),n=JSON.parse(localStorage.getItem(I.t)||"{}");try{t(Object(w.b)()).then((function(e){console.log("authenticated"),sessionStorage.setItem(I.u,localStorage.getItem(I.u)),a.replace("/cluster")})),n.hash1&&(console.log("auto login"),D(n.hash1),H(atob(atob(atob(n.hash2))),atob(atob(atob(n.hash3))),atob(atob(atob(n.hash4))))),e&&u(e)}catch(r){console.error(r),sessionStorage.removeItem(I.u),localStorage.removeItem(I.u)}}),[]),s.a.createElement(s.a.Fragment,null,s.a.createElement(x,null,s.a.createElement(g.a,{title:"\ub85c\uadf8\uc778"}),s.a.createElement(d.a,{align:"center"},s.a.createElement("img",{alt:"dsearch",src:"/static/img/dsearch/danawa_m_login.png"})),s.a.createElement(d.a,{style:{marginTop:"12px"}},s.a.createElement(f.a,{style:{fontSize:"1.45rem"},component:"h1",variant:"h4",align:"center",gutterBottom:!0},"\ub85c\uadf8\uc778")),s.a.createElement("form",null,s.a.createElement(E.a,{margin:"normal",required:!0,fullWidth:!0},s.a.createElement(O.a,{htmlFor:"server"},"\uc11c\ubc84"),s.a.createElement(v.a,{id:"server",name:"server",autoComplete:"server",autoFocus:!0,value:c,onChange:function(e){return u(e.target.value)},onBlur:function(){if(0!==c.length){var e=c;c.startsWith("http")||(e="http://"+c),t(Object(w.c)(e)).then((function(e){p(!e)})).catch((function(e){return p(!0)}))}else p(!0)},error:b})),s.a.createElement(E.a,{margin:"normal",required:!0,fullWidth:!0},s.a.createElement(O.a,{htmlFor:"server"},"\uc774\uba54\uc77c"),s.a.createElement(v.a,{id:"email",name:"email",autoComplete:"email",value:F,onChange:function(e){return J(e.target.value)},error:N,onKeyUp:function(e){return 13===e.keyCode?G():null}})),s.a.createElement(E.a,{margin:"normal",required:!0,fullWidth:!0},s.a.createElement(O.a,{htmlFor:"password"},"\ube44\ubc00\ubc88\ud638"),s.a.createElement(v.a,{name:"password",type:"password",id:"password",autoComplete:"current-password",value:z,onChange:function(e){return A(e.target.value)},error:N,onKeyUp:function(e){return 13===e.keyCode?G():null}})),s.a.createElement(j.a,{control:s.a.createElement(S.a,{color:"primary",checked:T,onChange:function(){return D(!T)}}),label:"\ub85c\uadf8\uc778 \uc800\uc7a5"}),s.a.createElement(y.a,{container:!0},s.a.createElement(y.a,{item:!0,xs:12},s.a.createElement(d.a,null,s.a.createElement(k,{fullWidth:!0,variant:"contained",color:"primary",mb:2,onClick:G},"\ub85c\uadf8\uc778"))))),s.a.createElement(d.a,{style:{position:"relative",top:"60px",height:"0px",textAlign:"center",fontSize:"0.8em"}},"\xa9 2020. danawa Co., Ltd. All Rights Reserved.")))}))}}]);
//# sourceMappingURL=66.51bbe600.chunk.js.map