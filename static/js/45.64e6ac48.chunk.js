(this["webpackJsonpdsearch-console"]=this["webpackJsonpdsearch-console"]||[]).push([[45],{1470:function(e,t,n){"use strict";n.r(t);var a=n(98),r=n.n(a),l=n(133),c=n(59),o=n(0),u=n.n(o),i=n(87),m=n(11),s=n(131),p=n.n(s),f=n(698),d=n(754),E=n(714),b=n(598),h=n(674),g=n(170),y=n(607),v=n(648),j=n(841),O=n(695),k=n(968),x=n(726),_=n(1497),C=n(675),S=n(564),J=n(720),F=n(721),T=n(722),w=n(723),N=n(694),I=n(661),P=n(620),W=n(621),M=n(38),R=n(711),A=n(715),B=Object(N.a)((function(e){return{formControl:{minWidth:250},edit:{width:"100%"}}})),H=Object(m.c)(E.a)(I.a),K=Object(m.c)(b.a)(I.a,P.a),z=Object(m.c)(h.a)(I.a),U=Object(m.c)(g.a)(I.a,P.a),V=Object(m.c)(y.a)(I.a,P.a,W.a),D=[{label:"\ub9e4\ud551"},{label:"\uc14b\ud305"}],G=['{\n    "properties": {\n        "hit": {\n            "type": "double"\n        },\n        "search": {\n            "type": "text"\n        },\n        "range": {\n            "type": "double"\n        },\n        "keyword": {\n            "type": "text"\n        }\n    }\n}','{\n    "refresh_interval": "1s",\n    "number_of_shards": "1",\n    "number_of_replicas": "0"\n}'],L="";t.default=Object(M.b)((function(e){return{templates:e.indexTemplateReducers.templates}}))((function(e){var t=e.dispatch,n=Object(i.f)(),a=B(),m=Object(o.useState)(""),s=Object(c.a)(m,2),E=s[0],b=s[1],h=Object(o.useState)(""),g=Object(c.a)(h,2),y=g[0],N=g[1],I=Object(o.useState)(0),P=Object(c.a)(I,2),W=P[0],M=P[1],$=Object(o.useState)("json"),q=Object(c.a)($,2),Q=q[0],X=q[1],Y=Object(o.useState)("json"),Z=Object(c.a)(Y,2),ee=Z[0],te=Z[1],ne=Object(o.useState)(G[0]),ae=Object(c.a)(ne,2),re=ae[0],le=ae[1],ce=Object(o.useState)(G[1]),oe=Object(c.a)(ce,2),ue=oe[0],ie=oe[1],me=Object(o.useState)(!1),se=Object(c.a)(me,2),pe=se[0],fe=se[1],de=Object(o.useState)({}),Ee=Object(c.a)(de,2),be=Ee[0],he=Ee[1];return u.a.createElement(u.a.Fragment,null,u.a.createElement(p.a,{title:"\ud15c\ud50c\ub9bf \uc0dd\uc131"}),u.a.createElement(U,{variant:"h3",gutterBottom:!0,display:"inline"},"\ud15c\ud50c\ub9bf \uc0dd\uc131"),u.a.createElement(H,{my:6}),u.a.createElement(v.a,{container:!0},u.a.createElement(v.a,{item:!0,xs:6},u.a.createElement(K,{align:"left"},u.a.createElement(j.a,{className:a.formControl},u.a.createElement(O.a,{label:"\ud15c\ud50c\ub9bf\uba85",value:E,onChange:function(e){return b(e.target.value)},error:be.templateText||!1})))),u.a.createElement(v.a,{item:!0,xs:6},u.a.createElement(K,{align:"right"},u.a.createElement(V,{variant:"outlined",color:"primary",onClick:function(){var e={};if((""===E.trim()||/[^a-z0-9-_]/gi.test(E.trim()))&&(e.templateText=!0),""===y.trim())e.indexPatternText=!0;else{var a=y.split(",");""===a[0]&&1===a.length&&(e.indexPatternText=!0)}try{JSON.parse(""===re?"{}":re)}catch(u){e.mappingsJson=!0}try{JSON.parse(""===ue?"{}":ue)}catch(u){e.settingsJson=!0}if(Object.keys(e).length>0)return he(e),!1;var c=JSON.parse(""===ue?"{}":ue),o=JSON.parse(""===re?"{}":re);o.properties||(o={properties:o}),t(Object(R.b)({template:E,index_patterns:y.split(","),settings:c,mappings:o})).then(function(){var e=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.sleep(500);case 2:n.push("../indices-templates/"+E);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("error",e),L="object"===typeof e?"[\uc0dd\uc131 \uc2e4\ud328]"+JSON.stringify(e):"[\uc0dd\uc131 \uc2e4\ud328]"+e,fe(!0)}))}},"\uc800\uc7a5"),u.a.createElement(V,{variant:"outlined",onClick:function(){return n.push("../indices-templates")},ml:1},"\ucde8\uc18c")))),u.a.createElement(j.a,{className:a.formControl},u.a.createElement(O.a,{label:"\uc778\ub371\uc2a4 \ud328\ud134",value:y,placeholder:"access-log-*,error-log-*",onChange:function(e){return N(e.target.value)},error:be.indexPatternText||!1})),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(f.a,{tabs:D,tabIndex:W,onChange:function(e){M(e)},tabClassNames:{borderBottom:"1px solid #f44336"}}),u.a.createElement("br",null),u.a.createElement(K,{display:0===W?"block":"none"},u.a.createElement(j.a,{component:"fieldset"},u.a.createElement(k.a,{row:!0,onChange:function(e){return X(e.target.value)}},u.a.createElement(x.a,{value:"form",checked:"form"===Q,control:u.a.createElement(_.a,{color:"primary"}),label:"\ud3fc"}),u.a.createElement(x.a,{value:"json",checked:"json"===Q,control:u.a.createElement(_.a,{color:"primary"}),label:"json"}))),"form"===Q?u.a.createElement(z,null,u.a.createElement(C.a,{m:0},Object(d.a)({json:re,type:"mappings"}))):u.a.createElement(z,null,u.a.createElement(C.a,null,u.a.createElement(K,null,u.a.createElement(S.a,{style:{minHeight:"200px",border:be.mappingsJson?"1px solid #f44336":"1px solid black"},className:a.edit,value:re,onChange:function(e){return le(e.target.value)},autoFocus:!0}))))),u.a.createElement(K,{display:1===W?"block":"none"},u.a.createElement(j.a,{component:"fieldset"},u.a.createElement(k.a,{row:!0,onChange:function(e){return te(e.target.value)}},u.a.createElement(x.a,{value:"form",checked:"form"===ee,control:u.a.createElement(_.a,{color:"primary"}),label:"\ud3fc"}),u.a.createElement(x.a,{value:"json",checked:"json"===ee,control:u.a.createElement(_.a,{color:"primary"}),label:"json"}))),"form"===ee?u.a.createElement(z,null,u.a.createElement(C.a,{m:0},Object(d.a)({json:ue,type:"settings"}))):u.a.createElement(z,null,u.a.createElement(C.a,null,u.a.createElement(K,null,u.a.createElement(S.a,{style:{minHeight:"200px",border:be.settingsJson?"1px solid #f44336":"1px solid black"},className:a.edit,value:ue,onChange:function(e){return ie(e.target.value)},autoFocus:!0}))))),u.a.createElement(J.a,{open:pe},u.a.createElement(F.a,null,"\uc624\ub958"),u.a.createElement(T.a,null,L),u.a.createElement(w.a,null,u.a.createElement(V,{autoFocus:!0,onClick:function(){return fe(!1)}},"\ud655\uc778"))))}))},698:function(e,t,n){"use strict";var a=n(59),r=n(0),l=n.n(r),c=n(9),o=n(714),u=n(598),i=n(1466),m=(n(170),n(1496)),s=n(11),p=n(661),f=Object(s.c)(o.a)(p.a),d=Object(s.c)(u.a)(p.a),E=Object(c.a)((function(e){return{root:{textTransform:"none",minWidth:72,fontWeight:e.typography.fontWeightRegular,marginRight:e.spacing(2),"&:hover":{color:"#40a9ff",opacity:1},"&$selected":{color:"#1890ff",fontWeight:e.typography.fontWeightMedium},"&:focus":{color:"#40a9ff"}},selected:{}}}),{index:1})((function(e){return l.a.createElement(i.a,Object.assign({disableRipple:!0},e))}));t.a=function(e){var t=e.tabs,n=e.tabIndex,r=void 0===n?0:n,c=e.onChange,o=l.a.useState({tabIndex:r}),u=Object(a.a)(o,2),i=u[0],s=u[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,{value:i.tabIndex,onChange:function(e,t){s({tabIndex:t}),"function"===typeof c&&c(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto"},t.map((function(e,t){return l.a.createElement(E,{key:t,id:t,icon:e.icon,label:e.label||""})}))),l.a.createElement(f,null),t.map((function(e,t){return l.a.createElement(d,{key:t,role:"tabpanel",hidden:i.tabIndex!==t,id:"scrollable-auto-tabpanel-".concat(t),"aria-labelledby":"scrollable-auto-tab-".concat(t)},t===i.tabIndex&&e.component&&l.a.createElement(d,null," ",l.a.createElement(e.component,{tabs:e})," "))})))}},711:function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return m})),n.d(t,"a",(function(){return s}));var a=n(76),r=n(4),l=new a.a,c=function(){return function(e){return l.call({uri:"/elasticsearch/_cat/templates?format=json"}).then((function(t){return e({type:r.K,payload:t.data.filter((function(e){return!e.name.startsWith(".")}))})}))}},o=function(e){var t=e.template,n=e.index_patterns,a=e.settings,r=e.mappings;return function(e){return l.call({uri:"/elasticsearch/_template/".concat(t),method:"PUT",data:{index_patterns:n,settings:a,mappings:r}})}},u=function(e){var t=e.template;return function(e){return l.call({uri:"/elasticsearch/_template/".concat(t),method:"DELETE"})}},i=function(e){var t=e.template;return function(e){return l.call({uri:"/elasticsearch/_template/".concat(t)}).then((function(n){return e({type:r.J,payload:n.data[t]})}))}},m=function(){return function(e){return l.call({uri:"/templates/comments",method:"GET"}).then((function(t){if(void 0==t.data||void 0==t.data.hits||0===t.data.hits.hits.length)e({type:r.p,payload:[]});else{var n=t.data.hits.hits.map((function(e){return e}));e({type:r.p,payload:n})}}))}},s=function(e){var t=e.id,n=e.name,a=e.updatedComment;return function(e){return l.call({uri:"/templates/comments",method:"PUT",data:{name:n,id:t,data:a}})}}},715:function(e,t,n){"use strict";var a={sleep:function(e){return new Promise((function(t){return setTimeout(t,e)}))}};t.a=a},754:function(e,t,n){"use strict";var a=n(0),r=n.n(a),l=n(674),c=n(170),o=n(675),u=n(683),i=n(676),m=n(682),s=n(681),p=n(684),f=n(713),d=n(695),E=n(598),b=n(712),h=n.n(b),g=n(11),y=n(661),v=n(620),j=n(711),O=Object(g.c)(l.a)(y.a),k=Object(g.c)(c.a)(y.a,v.a);t.a=function(e){var t=e.json,n=e.type,a=e.name,l=e.comments,c=e.dispatch,b=t;try{"string"===typeof t&&(b=JSON.parse(t))}catch(g){}return b&&"mappings"===n?function(e,t,n,a){var l={};n.length>0?n.forEach((function(e){e.sourceAsMap.name==t&&(l.id=e.id,l.comments=e.sourceAsMap.comments,l.name=e.sourceAsMap.name)})):l.name=t;var c=[{title:"\ud0c0\uc785",key:"type",component:function(e){return e}},{title:"\uc0c9\uc778",key:"enabled",component:function(e){return void 0!==e&&null!==e&&!1===e?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{style:{cursor:"default"},checked:!1})):r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{style:{cursor:"default"},checked:!0}))}},{title:"\ubd84\uc11d\uae30",key:"analyzer",component:function(e){return e}},{title:"copy_to",key:"copy_to",component:function(e){return e}},{title:"ignore_above",key:"ignore_above",component:function(e){return e}},{title:"null_value",key:"null_value",component:function(e){return e}},{title:"doc_values",key:"doc_values",component:function(e){return e}},{title:"similarity",key:"similarity",component:function(e){return e||""}},{title:"term_vector",key:"term_vector",component:function(e){return e}},{title:"store",key:"store",component:function(e){return void 0!==e&&null!==e&&!1===e?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{style:{cursor:"default"},checked:!1})):r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{style:{cursor:"default"},checked:!0}))}}],o=h()(e.properties?e.properties:e),u={};return Object.keys(o).forEach((function(e){var t=e.replace(/\.properties/gi,""),n=t.substring(0,t.lastIndexOf(".")),a=t.substring(t.lastIndexOf(".")+1);u[n]||(u[n]={}),u[n][a]=o[e]})),r.a.createElement("table",{border:1,width:"100%",cellSpacing:0,cellPadding:8},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"\uc774\ub984"),c.map((function(e){return r.a.createElement("th",{key:e.title},e.title)})),r.a.createElement("th",null,"\uae30\ud0c0\uc124\uc815"),r.a.createElement("th",null,"\ucf54\uba58\ud2b8"))),r.a.createElement("tbody",null,Object.keys(u).filter((function(e){return!e.endsWith(".copy_to")})).map((function(e,n){var o=u[e],i=Object.keys(o).map((function(e){return c.find((function(t){return t.key===e}))?null:e+": "+o[e]})).filter((function(e){return e})),m=e.replace(/\.fields/gi,"");return m.includes("s-prod-v")&&(m="s-prod-v"),r.a.createElement("tr",{key:n},r.a.createElement("td",{align:"center"},n+1),r.a.createElement("td",null,e.replace(/\.fields/gi,"")),c.map((function(e){return r.a.createElement("td",{key:e.title,align:"center"},e.component(o[e.key]))})),r.a.createElement("td",null,i.join(", ")),r.a.createElement("td",null,m.includes(".")?r.a.createElement(r.a.Fragment,null):void 0===l.comments||null===l.comments?r.a.createElement(d.a,{onKeyPress:function(e){if("Enter"==e.key){void 0==l.comments&&(l.comments={});var n=m+"";l.comments[n]=e.target.value,a(Object(j.a)({id:null,name:t,updatedComment:l})).then((function(e){a(Object(j.e)())})).catch((function(e){console.log(e)}))}},key:m,defaultValue:""}):r.a.createElement(d.a,{onKeyPress:function(e){if("Enter"==e.key){var n=m+"";l.comments[n]=e.target.value,a(Object(j.a)({id:l.id,name:t,updatedComment:l})).then((function(e){a(Object(j.e)())})).catch((function(e){console.log(e)}))}},key:m,defaultValue:l.comments[m]})))}))))}(b,a,l,c):b&&"settings"===n?function(e){if(!e)return null;var t=h()(e.settings?e.settings:e);return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,null,r.a.createElement(o.a,null,r.a.createElement(k,{variant:"h5",mt:5},"\uc8fc\uc694\ud56d\ubaa9"),r.a.createElement(u.a,null,r.a.createElement(i.a,null,r.a.createElement(m.a,null,r.a.createElement(s.a,null,"\uc0e4\ub4dc \uac2f\uc218"),r.a.createElement(s.a,null,"\ub808\ud50c\ub9ac\uce74 \uac2f\uc218"),r.a.createElement(s.a,null,"\ub9ac\ud504\ub808\uc26c \uac04\uaca9"))),r.a.createElement(p.a,null,r.a.createElement(m.a,null,r.a.createElement(s.a,null,((e.settings||{}).index||{}).number_of_shards||"-"),r.a.createElement(s.a,null,((e.settings||{}).index||{}).number_of_replicas||"-"),r.a.createElement(s.a,null,((e.defaults||{}).index||{}).refresh_interval||"-")))))),r.a.createElement("br",null),r.a.createElement(O,null,r.a.createElement(o.a,null,r.a.createElement(k,{variant:"h5",mt:5},"\uae30\ud0c0\ud56d\ubaa9"),r.a.createElement(u.a,null,r.a.createElement(i.a,null,r.a.createElement(m.a,null,r.a.createElement(s.a,null,"\ud0a4"),r.a.createElement(s.a,null,"\uac12"))),r.a.createElement(p.a,null,Object.keys(t||{}).map((function(e){return r.a.createElement(m.a,{key:e},r.a.createElement(s.a,null,e),r.a.createElement(s.a,null,t[e]||""))})))))))}(b):r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{style:{minHeight:"150px"}}))}}}]);
//# sourceMappingURL=45.64e6ac48.chunk.js.map