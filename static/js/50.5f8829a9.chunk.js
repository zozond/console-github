(this["webpackJsonpdsearch-console"]=this["webpackJsonpdsearch-console"]||[]).push([[50],{1474:function(e,t,n){"use strict";n.r(t);var a=n(2),l=n(59),c=n(0),r=n.n(c),o=n(87),u=n(11),m=n(131),i=n.n(m),s=n(700),d=n(756),f=n(714),p=n(598),E=n(676),b=n(170),h=n(607),g=n(650),y=n(843),v=n(694),j=n(1048),O=n(604),k=n(697),x=n(970),_=n(726),C=n(1499),F=n(713),S=n(677),W=n(564),w=n(720),I=n(721),T=n(722),J=n(723),N=n(696),P=n(663),R=n(621),U=n(622),B=n(38),M=n(715),A=Object(N.a)((function(e){return{formControl:{minWidth:250},edit:{width:"100%",minHeight:"500px"}}})),K=Object(u.c)(f.a)(P.a),z=Object(u.c)(p.a)(P.a,R.a),H=Object(u.c)(E.a)(P.a),V=Object(u.c)(b.a)(P.a,R.a),D=Object(u.c)(h.a)(P.a,R.a,U.a),G=[{label:"\ub9e4\ud551"},{label:"\uc14b\ud305"}];t.default=Object(B.b)((function(e){return Object(a.a)({authUser:e.dsearchReducers.authUser},e.indexTemplateReducers)}))((function(e){var t=e.dispatch,n=e.authUser,a=e.template,u=e.templates,m=e.comments,f=Object(o.f)(),p=A(),E=Object(c.useState)(""),b=Object(l.a)(E,2),h=b[0],N=b[1],P=Object(c.useState)(""),R=Object(l.a)(P,2),U=R[0],B=R[1],L=Object(c.useState)(0),$=Object(l.a)(L,2),q=$[0],Q=$[1],X=Object(c.useState)("form"),Y=Object(l.a)(X,2),Z=Y[0],ee=Y[1],te=Object(c.useState)("form"),ne=Object(l.a)(te,2),ae=ne[0],le=ne[1],ce=Object(c.useState)(!1),re=Object(l.a)(ce,2),oe=re[0],ue=re[1],me=Object(c.useState)(""),ie=Object(l.a)(me,2),se=ie[0],de=ie[1],fe=Object(c.useState)(""),pe=Object(l.a)(fe,2),Ee=pe[0],be=pe[1],he=Object(c.useState)(!1),ge=Object(l.a)(he,2),ye=ge[0],ve=ge[1];return Object(c.useEffect)((function(){""!==h?(t(Object(M.d)({template:h})),t(Object(M.f)())):N(location.pathname.substring(location.pathname.lastIndexOf("/")+1))}),[h]),Object(c.useEffect)((function(){B((a.index_patterns||[]).join(","))}),[a.index_patterns]),Object(c.useEffect)((function(){de(JSON.stringify(a.mappings||{},null,4))}),[a.mappings]),Object(c.useEffect)((function(){be(JSON.stringify((a.settings||{}).index,null,4))}),[a.settings]),Object(c.useEffect)((function(){t(Object(M.e)())}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{title:"\ud15c\ud50c\ub9bf \uc870\ud68c"}),r.a.createElement(V,{variant:"h3",gutterBottom:!0,display:"inline"},"\ud15c\ud50c\ub9bf \uc870\ud68c"),r.a.createElement(K,{my:6}),r.a.createElement(g.a,{container:!0},r.a.createElement(g.a,{item:!0,xs:6},r.a.createElement(z,{align:"left"},r.a.createElement(y.a,null,r.a.createElement(v.a,null,"\ud15c\ud50c\ub9bf"),r.a.createElement(j.a,{value:h,onChange:function(e){return function(e){f.push("../indices-templates/".concat(e)),N(e)}(e.target.value)},style:{minWidth:250}},u.map((function(e){return e.name})).sort().map((function(e){return r.a.createElement(O.a,{key:e,value:e},e)})))))),r.a.createElement(g.a,{item:!0,xs:6},n.role.index?r.a.createElement(z,{align:"right"},r.a.createElement(D,{variant:"outlined",color:"primary",onClick:function(){return f.push("".concat(h,"/edit"))}},"\uc218\uc815")):r.a.createElement(z,{align:"right"},r.a.createElement(D,{variant:"outlined",color:"primary",disabled:!0},"\uc218\uc815")))),r.a.createElement(y.a,{className:p.formControl},r.a.createElement(k.a,{label:"\uc778\ub371\uc2a4 \ud328\ud134",placeholder:"access-log-*,error-log-*",value:U,onChange:function(e){return B(e.target.value)},disabled:!0})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(s.a,{tabs:G,tabIndex:q,onChange:function(e){Q(e)}}),r.a.createElement(z,{display:0===q?"block":"none",style:{marginTop:"20px"}},r.a.createElement(y.a,{component:"fieldset"},r.a.createElement(x.a,{row:!0,onChange:function(e){return ee(e.target.value)}},r.a.createElement(_.a,{value:"form",checked:"form"===Z,control:r.a.createElement(C.a,{color:"primary"}),label:"\ud3fc"}),r.a.createElement(_.a,{value:"json",checked:"json"===Z,control:r.a.createElement(C.a,{color:"primary"}),label:"json"})),"form"===Z?r.a.createElement(_.a,{value:"\uc0c1\uc138\ubcf4\uae30",onChange:function(e){ue(e.target.checked)},checked:oe,control:r.a.createElement(F.a,{color:"primary"}),label:"\uc0c1\uc138\ubcf4\uae30"}):r.a.createElement(r.a.Fragment,null)),"form"===Z?r.a.createElement(H,null,r.a.createElement(S.a,{m:0},r.a.createElement(z,{style:{overflow:"auto",minWidth:"700px"}},Object(d.a)({json:se,type:"mappings",name:h,comments:m,dispatch:t,mode:"view",detail:oe})))):r.a.createElement(H,null,r.a.createElement(S.a,null,r.a.createElement(z,null,r.a.createElement(W.a,{className:p.edit,value:se,onChange:function(e){return de(e.target.value)},autoFocus:!0,disabled:!0}))))),r.a.createElement(z,{display:1===q?"block":"none",style:{marginTop:"20px"}},r.a.createElement(y.a,{component:"fieldset"},r.a.createElement(x.a,{row:!0,onChange:function(e){return le(e.target.value)}},r.a.createElement(_.a,{value:"form",checked:"form"===ae,control:r.a.createElement(C.a,{color:"primary"}),label:"\ud3fc"}),r.a.createElement(_.a,{value:"json",checked:"json"===ae,control:r.a.createElement(C.a,{color:"primary"}),label:"json"}))),"form"===ae?r.a.createElement(H,null,r.a.createElement(S.a,{m:0},Object(d.a)({json:a,type:"settings",name:h,comments:m,dispatch:t}))):r.a.createElement(H,null,r.a.createElement(S.a,null,r.a.createElement(z,null,r.a.createElement(W.a,{className:p.edit,value:Ee,onChange:function(e){return be(e.target.value)},disabled:!0}))))),r.a.createElement(w.a,{open:ye,fullWidth:!0},r.a.createElement(I.a,null,"\uc624\ub958"),r.a.createElement(T.a,null,""),r.a.createElement(J.a,null,r.a.createElement(D,{autoFocus:!0,onClick:function(){return ve(!1)}},"\ud655\uc778"))))}))},700:function(e,t,n){"use strict";var a=n(59),l=n(0),c=n.n(l),r=n(9),o=n(714),u=n(598),m=n(1468),i=(n(170),n(1498)),s=n(11),d=n(663),f=Object(s.c)(o.a)(d.a),p=Object(s.c)(u.a)(d.a),E=Object(r.a)((function(e){return{root:{textTransform:"none",minWidth:72,fontWeight:e.typography.fontWeightRegular,marginRight:e.spacing(2),"&:hover":{color:"#40a9ff",opacity:1},"&$selected":{color:"#1890ff",fontWeight:e.typography.fontWeightMedium},"&:focus":{color:"#40a9ff"}},selected:{}}}),{index:1})((function(e){return c.a.createElement(m.a,Object.assign({disableRipple:!0},e))}));t.a=function(e){var t=e.tabs,n=e.tabIndex,l=void 0===n?0:n,r=e.onChange,o=c.a.useState({tabIndex:l}),u=Object(a.a)(o,2),m=u[0],s=u[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,{value:m.tabIndex,onChange:function(e,t){s({tabIndex:t}),"function"===typeof r&&r(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto"},t.map((function(e,t){return c.a.createElement(E,{key:t,id:t,icon:e.icon,label:e.label||""})}))),c.a.createElement(f,null),t.map((function(e,t){return c.a.createElement(p,{key:t,role:"tabpanel",hidden:m.tabIndex!==t,id:"scrollable-auto-tabpanel-".concat(t),"aria-labelledby":"scrollable-auto-tab-".concat(t)},t===m.tabIndex&&e.component&&c.a.createElement(p,null," ",c.a.createElement(e.component,{tabs:e})," "))})))}},715:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return s}));var a=n(76),l=n(3),c=new a.a,r=function(){return function(e){return c.call({uri:"/elasticsearch/_cat/templates?format=json"}).then((function(t){return e({type:l.K,payload:t.data.filter((function(e){return!e.name.startsWith(".")}))})}))}},o=function(e){var t=e.template,n=e.index_patterns,a=e.settings,l=e.mappings;return function(e){return c.call({uri:"/elasticsearch/_template/".concat(t),method:"PUT",data:{index_patterns:n,settings:a,mappings:l}})}},u=function(e){var t=e.template;return function(e){return c.call({uri:"/elasticsearch/_template/".concat(t),method:"DELETE"})}},m=function(e){var t=e.template;return function(e){return c.call({uri:"/elasticsearch/_template/".concat(t)}).then((function(n){return e({type:l.J,payload:n.data[t]})}))}},i=function(){return function(e){return c.call({uri:"/templates/comments",method:"GET"}).then((function(t){if(void 0==t.data||void 0==t.data.hits||0===t.data.hits.hits.length)e({type:l.p,payload:[]});else{var n=t.data.hits.hits.map((function(e){return e}));e({type:l.p,payload:n})}}))}},s=function(e){var t=e.id,n=e.name,a=e.updatedComment;return function(e){return c.call({uri:"/templates/comments",method:"PUT",data:{name:n,id:t,data:a}})}}},756:function(e,t,n){"use strict";var a=n(0),l=n.n(a),c=n(676),r=n(170),o=n(677),u=n(681),m=n(678),i=n(680),s=n(679),d=n(682),f=n(713),p=n(598),E=n(697),b=n(716),h=n.n(b),g=n(11),y=n(663),v=n(621),j=n(715),O=Object(g.c)(c.a)(y.a),k=Object(g.c)(r.a)(y.a,v.a);t.a=function(e){var t=e.json,n=e.type,a=e.name,c=e.comments,r=e.dispatch,b=e.mode,g=e.detail,y=t;try{"string"===typeof t&&(y=JSON.parse(t))}catch(v){}return y&&"mappings"===n?function(e,t,n,a,c,r){var o={};n&&n.length>0?n.forEach((function(e){e.sourceAsMap.name==t&&(o.id=e.id,o.comments=e.sourceAsMap.comments,o.name=e.sourceAsMap.name)})):o.name=t;var u=[];u="view"!==c||r?[{title:"\ud0c0\uc785",key:"type",component:function(e){return e}},{title:"\uc0c9\uc778",key:"enabled",component:function(e){return void 0!==e&&null!==e&&!1===e?l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{style:{cursor:"default"},checked:!1})):l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{style:{cursor:"default"},checked:!0}))}},{title:"\ubd84\uc11d\uae30",key:"analyzer",component:function(e){return e}},{title:"copy_to",key:"copy_to",component:function(e){return e}},{title:"ignore_above",key:"ignore_above",component:function(e){return e}},{title:"null_value",key:"null_value",component:function(e){return e}},{title:"doc_values",key:"doc_values",component:function(e){return e}},{title:"similarity",key:"similarity",component:function(e){return e||""}},{title:"term_vector",key:"term_vector",component:function(e){return e}},{title:"store",key:"store",component:function(e){return void 0!==e&&null!==e&&!1===e?l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{style:{cursor:"default"},checked:!1})):l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{style:{cursor:"default"},checked:!0}))}}]:[{title:"\ud0c0\uc785",key:"type",component:function(e){return e}},{title:"\uc0c9\uc778",key:"enabled",component:function(e){return void 0!==e&&null!==e&&!1===e?l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{style:{cursor:"default"},checked:!1})):l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{style:{cursor:"default"},checked:!0}))}},{title:"\ubd84\uc11d\uae30",key:"analyzer",component:function(e){return e}}];var m=h()(e.properties?e.properties:e),i={};return Object.keys(m).forEach((function(e){var t=e.replace(/\.properties/gi,""),n=t.substring(0,t.lastIndexOf(".")),a=t.substring(t.lastIndexOf(".")+1);i[n]||(i[n]={}),i[n][a]=m[e]})),l.a.createElement("table",{border:1,width:"100%",cellSpacing:0,cellPadding:8},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"\uc774\ub984"),u.map((function(e){return l.a.createElement("th",{key:e.title},e.title)})),l.a.createElement("th",null,"\uae30\ud0c0\uc124\uc815"),l.a.createElement("th",null,"\uc124\uba85"))),l.a.createElement("tbody",null,Object.keys(i).filter((function(e){return!e.endsWith(".copy_to")})).map((function(e,n){var r=i[e],m=Object.keys(r).map((function(e){return u.find((function(t){return t.key===e}))?null:e+": "+r[e]})).filter((function(e){return e})),s=e.replace(/\.fields/gi,"");return s.includes("s-prod-v")&&(s="s-prod-v"),l.a.createElement("tr",{key:n},l.a.createElement("td",{align:"center"},n+1),l.a.createElement("td",null,e.replace(/\.fields/gi,"")),u.map((function(e){return l.a.createElement("td",{key:e.title,align:"center"},e.component(r[e.key]))})),l.a.createElement("td",null,m.join(", ")),l.a.createElement("td",null,"view"===c?s.includes(".")||void 0===o.comments||null===o.comments?l.a.createElement(l.a.Fragment,null):l.a.createElement(p.a,{width:"100%"},o.comments[s]):l.a.createElement(l.a.Fragment,null),"edit"===c?s.includes(".")?l.a.createElement(l.a.Fragment,null):void 0===o.comments||null===o.comments?l.a.createElement(E.a,{fullWidth:!0,onKeyPress:function(e){void 0==o.comments&&(o.comments={});var n=s+"";o.comments[n]=e.target.value,console.log(o),a(Object(j.a)({id:null,name:t,updatedComment:o})).then((function(e){a(Object(j.e)())})).catch((function(e){console.log(e)}))},onBlur:function(e){void 0==o.comments&&(o.comments={});var n=s+"";o.comments[n]=e.target.value,console.log(o),a(Object(j.a)({id:null,name:t,updatedComment:o})).then((function(e){a(Object(j.e)())})).catch((function(e){console.log(e)}))},key:s,defaultValue:""}):l.a.createElement(E.a,{fullWidth:!0,onKeyPress:function(e){void 0==o.comments&&(o.comments={});var n=s+"";o.comments[n]=e.target.value,console.log(o),a(Object(j.a)({id:o.id,name:t,updatedComment:o})).then((function(e){a(Object(j.e)())})).catch((function(e){console.log(e)}))},onBlur:function(e){void 0==o.comments&&(o.comments={});var n=s+"";o.comments[n]=e.target.value,console.log(o),a(Object(j.a)({id:null,name:t,updatedComment:o})).then((function(e){a(Object(j.e)())})).catch((function(e){console.log(e)}))},key:s,defaultValue:o.comments[s]}):l.a.createElement(l.a.Fragment,null)))}))))}(y,a,c,r,b,g):y&&"settings"===n?function(e){if(!e)return null;var t=h()(e.settings?e.settings:e);return l.a.createElement(l.a.Fragment,null,l.a.createElement(O,null,l.a.createElement(o.a,null,l.a.createElement(k,{variant:"h5",mt:5},"\uc8fc\uc694\ud56d\ubaa9"),l.a.createElement(u.a,null,l.a.createElement(m.a,null,l.a.createElement(i.a,null,l.a.createElement(s.a,null,"\uc0e4\ub4dc \uac2f\uc218"),l.a.createElement(s.a,null,"\ub808\ud50c\ub9ac\uce74 \uac2f\uc218"),l.a.createElement(s.a,null,"\ub9ac\ud504\ub808\uc26c \uac04\uaca9"))),l.a.createElement(d.a,null,l.a.createElement(i.a,null,l.a.createElement(s.a,null,((e.settings||{}).index||{}).number_of_shards||"-"),l.a.createElement(s.a,null,((e.settings||{}).index||{}).number_of_replicas||"-"),l.a.createElement(s.a,null,((e.defaults||{}).index||{}).refresh_interval||"-")))))),l.a.createElement("br",null),l.a.createElement(O,null,l.a.createElement(o.a,null,l.a.createElement(k,{variant:"h5",mt:5},"\uae30\ud0c0\ud56d\ubaa9"),l.a.createElement(u.a,null,l.a.createElement(m.a,null,l.a.createElement(i.a,null,l.a.createElement(s.a,null,"\ud0a4"),l.a.createElement(s.a,null,"\uac12"))),l.a.createElement(d.a,null,Object.keys(t||{}).map((function(e){return l.a.createElement(i.a,{key:e},l.a.createElement(s.a,null,e),l.a.createElement(s.a,null,t[e]||""))})))))))}(y):l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{style:{minHeight:"150px"}}))}}}]);
//# sourceMappingURL=50.5f8829a9.chunk.js.map