(this["webpackJsonpdsearch-console"]=this["webpackJsonpdsearch-console"]||[]).push([[49],{1472:function(e,t,a){"use strict";a.r(t);var n=a(2),l=a(59),r=a(0),c=a.n(r),o=a(87),u=a(11),i=a(131),m=a.n(i),s=a(698),f=a(754),d=a(714),p=a(598),E=a(674),b=a(170),h=a(607),g=a(648),y=a(841),j=a(692),v=a(1046),O=a(604),k=a(695),x=a(968),_=a(726),C=a(1497),S=a(675),F=a(564),W=a(720),I=a(721),w=a(722),J=a(723),N=a(694),T=a(661),P=a(620),M=a(621),R=a(38),A=a(711),K=Object(N.a)((function(e){return{formControl:{minWidth:250},edit:{width:"100%",minHeight:"500px"}}})),B=Object(u.c)(d.a)(T.a),H=Object(u.c)(p.a)(T.a,P.a),U=Object(u.c)(E.a)(T.a),V=Object(u.c)(b.a)(T.a,P.a),z=Object(u.c)(h.a)(T.a,P.a,M.a),D=[{label:"\ub9e4\ud551"},{label:"\uc14b\ud305"}];t.default=Object(R.b)((function(e){return Object(n.a)({},e.indexTemplateReducers)}))((function(e){var t=e.dispatch,a=e.template,n=e.templates,u=e.comments,i=Object(o.f)(),d=K(),p=Object(r.useState)(""),E=Object(l.a)(p,2),b=E[0],h=E[1],N=Object(r.useState)(""),T=Object(l.a)(N,2),P=T[0],M=T[1],R=Object(r.useState)(0),G=Object(l.a)(R,2),L=G[0],$=G[1],q=Object(r.useState)("form"),Q=Object(l.a)(q,2),X=Q[0],Y=Q[1],Z=Object(r.useState)("form"),ee=Object(l.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(r.useState)(""),le=Object(l.a)(ne,2),re=le[0],ce=le[1],oe=Object(r.useState)(""),ue=Object(l.a)(oe,2),ie=ue[0],me=ue[1],se=Object(r.useState)(!1),fe=Object(l.a)(se,2),de=fe[0],pe=fe[1];return Object(r.useEffect)((function(){""!==b?(t(Object(A.d)({template:b})),t(Object(A.f)())):h(location.pathname.substring(location.pathname.lastIndexOf("/")+1))}),[b]),Object(r.useEffect)((function(){M((a.index_patterns||[]).join(","))}),[a.index_patterns]),Object(r.useEffect)((function(){ce(JSON.stringify(a.mappings||{},null,4))}),[a.mappings]),Object(r.useEffect)((function(){me(JSON.stringify((a.settings||{}).index,null,4))}),[a.settings]),Object(r.useEffect)((function(){t(Object(A.e)())})),c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,{title:"\ud15c\ud50c\ub9bf \uc870\ud68c"}),c.a.createElement(V,{variant:"h3",gutterBottom:!0,display:"inline"},"\ud15c\ud50c\ub9bf \uc870\ud68c"),c.a.createElement(B,{my:6}),c.a.createElement(g.a,{container:!0},c.a.createElement(g.a,{item:!0,xs:6},c.a.createElement(H,{align:"left"},c.a.createElement(y.a,null,c.a.createElement(j.a,null,"\ud15c\ud50c\ub9bf"),c.a.createElement(v.a,{value:b,onChange:function(e){return function(e){i.push("../indices-templates/".concat(e)),h(e)}(e.target.value)},style:{minWidth:250}},n.map((function(e){return e.name})).sort().map((function(e){return c.a.createElement(O.a,{key:e,value:e},e)})))))),c.a.createElement(g.a,{item:!0,xs:6},c.a.createElement(H,{align:"right"},c.a.createElement(z,{variant:"outlined",color:"primary",onClick:function(){return i.push("".concat(b,"/edit"))}},"\uc218\uc815")))),c.a.createElement(y.a,{className:d.formControl},c.a.createElement(k.a,{label:"\uc778\ub371\uc2a4 \ud328\ud134",placeholder:"access-log-*,error-log-*",value:P,onChange:function(e){return M(e.target.value)},disabled:!0})),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(s.a,{tabs:D,tabIndex:L,onChange:function(e){$(e)}}),c.a.createElement("br",null),c.a.createElement(H,{display:0===L?"block":"none"},c.a.createElement(y.a,{component:"fieldset"},c.a.createElement(x.a,{row:!0,onChange:function(e){return Y(e.target.value)}},c.a.createElement(_.a,{value:"form",checked:"form"===X,control:c.a.createElement(C.a,{color:"primary"}),label:"\ud3fc"}),c.a.createElement(_.a,{value:"json",checked:"json"===X,control:c.a.createElement(C.a,{color:"primary"}),label:"json"}))),"form"===X?c.a.createElement(U,null,c.a.createElement(S.a,{m:0},c.a.createElement(H,{style:{overflow:"auto",minWidth:"700px"}},Object(f.a)({json:re,type:"mappings",name:b,comments:u,dispatch:t})))):c.a.createElement(U,null,c.a.createElement(S.a,null,c.a.createElement(H,null,c.a.createElement(F.a,{className:d.edit,value:re,onChange:function(e){return ce(e.target.value)},autoFocus:!0,disabled:!0}))))),c.a.createElement(H,{display:1===L?"block":"none"},c.a.createElement(y.a,{component:"fieldset"},c.a.createElement(x.a,{row:!0,onChange:function(e){return ae(e.target.value)}},c.a.createElement(_.a,{value:"form",checked:"form"===te,control:c.a.createElement(C.a,{color:"primary"}),label:"\ud3fc"}),c.a.createElement(_.a,{value:"json",checked:"json"===te,control:c.a.createElement(C.a,{color:"primary"}),label:"json"}))),"form"===te?c.a.createElement(U,null,c.a.createElement(S.a,{m:0},Object(f.a)({json:a,type:"settings",name:b,comments:u,dispatch:t}))):c.a.createElement(U,null,c.a.createElement(S.a,null,c.a.createElement(H,null,c.a.createElement(F.a,{className:d.edit,value:ie,onChange:function(e){return me(e.target.value)},disabled:!0}))))),c.a.createElement(W.a,{open:de,fullWidth:!0},c.a.createElement(I.a,null,"\uc624\ub958"),c.a.createElement(w.a,null,""),c.a.createElement(J.a,null,c.a.createElement(z,{autoFocus:!0,onClick:function(){return pe(!1)}},"\ud655\uc778"))))}))},698:function(e,t,a){"use strict";var n=a(59),l=a(0),r=a.n(l),c=a(9),o=a(714),u=a(598),i=a(1466),m=(a(170),a(1496)),s=a(11),f=a(661),d=Object(s.c)(o.a)(f.a),p=Object(s.c)(u.a)(f.a),E=Object(c.a)((function(e){return{root:{textTransform:"none",minWidth:72,fontWeight:e.typography.fontWeightRegular,marginRight:e.spacing(2),"&:hover":{color:"#40a9ff",opacity:1},"&$selected":{color:"#1890ff",fontWeight:e.typography.fontWeightMedium},"&:focus":{color:"#40a9ff"}},selected:{}}}),{index:1})((function(e){return r.a.createElement(i.a,Object.assign({disableRipple:!0},e))}));t.a=function(e){var t=e.tabs,a=e.tabIndex,l=void 0===a?0:a,c=e.onChange,o=r.a.useState({tabIndex:l}),u=Object(n.a)(o,2),i=u[0],s=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{value:i.tabIndex,onChange:function(e,t){s({tabIndex:t}),"function"===typeof c&&c(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto"},t.map((function(e,t){return r.a.createElement(E,{key:t,id:t,icon:e.icon,label:e.label||""})}))),r.a.createElement(d,null),t.map((function(e,t){return r.a.createElement(p,{key:t,role:"tabpanel",hidden:i.tabIndex!==t,id:"scrollable-auto-tabpanel-".concat(t),"aria-labelledby":"scrollable-auto-tab-".concat(t)},t===i.tabIndex&&e.component&&r.a.createElement(p,null," ",r.a.createElement(e.component,{tabs:e})," "))})))}},711:function(e,t,a){"use strict";a.d(t,"f",(function(){return c})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return u})),a.d(t,"d",(function(){return i})),a.d(t,"e",(function(){return m})),a.d(t,"a",(function(){return s}));var n=a(76),l=a(3),r=new n.a,c=function(){return function(e){return r.call({uri:"/elasticsearch/_cat/templates?format=json"}).then((function(t){return e({type:l.K,payload:t.data.filter((function(e){return!e.name.startsWith(".")}))})}))}},o=function(e){var t=e.template,a=e.index_patterns,n=e.settings,l=e.mappings;return function(e){return r.call({uri:"/elasticsearch/_template/".concat(t),method:"PUT",data:{index_patterns:a,settings:n,mappings:l}})}},u=function(e){var t=e.template;return function(e){return r.call({uri:"/elasticsearch/_template/".concat(t),method:"DELETE"})}},i=function(e){var t=e.template;return function(e){return r.call({uri:"/elasticsearch/_template/".concat(t)}).then((function(a){return e({type:l.J,payload:a.data[t]})}))}},m=function(){return function(e){return r.call({uri:"/templates/comments",method:"GET"}).then((function(t){if(void 0==t.data||void 0==t.data.hits||0===t.data.hits.hits.length)e({type:l.p,payload:[]});else{var a=t.data.hits.hits.map((function(e){return e}));e({type:l.p,payload:a})}}))}},s=function(e){var t=e.id,a=e.name,n=e.updatedComment;return function(e){return r.call({uri:"/templates/comments",method:"PUT",data:{name:a,id:t,data:n}})}}},754:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(674),c=a(170),o=a(675),u=a(683),i=a(676),m=a(682),s=a(681),f=a(684),d=a(713),p=a(695),E=a(598),b=a(712),h=a.n(b),g=a(11),y=a(661),j=a(620),v=a(711),O=Object(g.c)(r.a)(y.a),k=Object(g.c)(c.a)(y.a,j.a);t.a=function(e){var t=e.json,a=e.type,n=e.name,r=e.comments,c=e.dispatch,b=t;try{"string"===typeof t&&(b=JSON.parse(t))}catch(g){}return b&&"mappings"===a?function(e,t,a,n){var r={};a&&a.length>0?a.forEach((function(e){e.sourceAsMap.name==t&&(r.id=e.id,r.comments=e.sourceAsMap.comments,r.name=e.sourceAsMap.name)})):r.name=t;var c=[{title:"\ud0c0\uc785",key:"type",component:function(e){return e}},{title:"\uc0c9\uc778",key:"enabled",component:function(e){return void 0!==e&&null!==e&&!1===e?l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{style:{cursor:"default"},checked:!1})):l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{style:{cursor:"default"},checked:!0}))}},{title:"\ubd84\uc11d\uae30",key:"analyzer",component:function(e){return e}},{title:"copy_to",key:"copy_to",component:function(e){return e}},{title:"ignore_above",key:"ignore_above",component:function(e){return e}},{title:"null_value",key:"null_value",component:function(e){return e}},{title:"doc_values",key:"doc_values",component:function(e){return e}},{title:"similarity",key:"similarity",component:function(e){return e||""}},{title:"term_vector",key:"term_vector",component:function(e){return e}},{title:"store",key:"store",component:function(e){return void 0!==e&&null!==e&&!1===e?l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{style:{cursor:"default"},checked:!1})):l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{style:{cursor:"default"},checked:!0}))}}],o=h()(e.properties?e.properties:e),u={};return Object.keys(o).forEach((function(e){var t=e.replace(/\.properties/gi,""),a=t.substring(0,t.lastIndexOf(".")),n=t.substring(t.lastIndexOf(".")+1);u[a]||(u[a]={}),u[a][n]=o[e]})),l.a.createElement("table",{border:1,width:"100%",cellSpacing:0,cellPadding:8},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"\uc774\ub984"),c.map((function(e){return l.a.createElement("th",{key:e.title},e.title)})),l.a.createElement("th",null,"\uae30\ud0c0\uc124\uc815"),l.a.createElement("th",null,"\ucf54\uba58\ud2b8"))),l.a.createElement("tbody",null,Object.keys(u).filter((function(e){return!e.endsWith(".copy_to")})).map((function(e,a){var o=u[e],i=Object.keys(o).map((function(e){return c.find((function(t){return t.key===e}))?null:e+": "+o[e]})).filter((function(e){return e})),m=e.replace(/\.fields/gi,"");return m.includes("s-prod-v")&&(m="s-prod-v"),l.a.createElement("tr",{key:a},l.a.createElement("td",{align:"center"},a+1),l.a.createElement("td",null,e.replace(/\.fields/gi,"")),c.map((function(e){return l.a.createElement("td",{key:e.title,align:"center"},e.component(o[e.key]))})),l.a.createElement("td",null,i.join(", ")),l.a.createElement("td",null,m.includes(".")?l.a.createElement(l.a.Fragment,null):void 0===r.comments||null===r.comments?l.a.createElement(p.a,{onKeyPress:function(e){if("Enter"==e.key){void 0==r.comments&&(r.comments={});var a=m+"";r.comments[a]=e.target.value,n(Object(v.a)({id:null,name:t,updatedComment:r})).then((function(e){n(Object(v.e)())})).catch((function(e){console.log(e)}))}},key:m,defaultValue:""}):l.a.createElement(p.a,{onKeyPress:function(e){if("Enter"==e.key){var a=m+"";r.comments[a]=e.target.value,n(Object(v.a)({id:r.id,name:t,updatedComment:r})).then((function(e){n(Object(v.e)())})).catch((function(e){console.log(e)}))}},key:m,defaultValue:r.comments[m]})))}))))}(b,n,r,c):b&&"settings"===a?function(e){if(!e)return null;var t=h()(e.settings?e.settings:e);return l.a.createElement(l.a.Fragment,null,l.a.createElement(O,null,l.a.createElement(o.a,null,l.a.createElement(k,{variant:"h5",mt:5},"\uc8fc\uc694\ud56d\ubaa9"),l.a.createElement(u.a,null,l.a.createElement(i.a,null,l.a.createElement(m.a,null,l.a.createElement(s.a,null,"\uc0e4\ub4dc \uac2f\uc218"),l.a.createElement(s.a,null,"\ub808\ud50c\ub9ac\uce74 \uac2f\uc218"),l.a.createElement(s.a,null,"\ub9ac\ud504\ub808\uc26c \uac04\uaca9"))),l.a.createElement(f.a,null,l.a.createElement(m.a,null,l.a.createElement(s.a,null,((e.settings||{}).index||{}).number_of_shards||"-"),l.a.createElement(s.a,null,((e.settings||{}).index||{}).number_of_replicas||"-"),l.a.createElement(s.a,null,((e.defaults||{}).index||{}).refresh_interval||"-")))))),l.a.createElement("br",null),l.a.createElement(O,null,l.a.createElement(o.a,null,l.a.createElement(k,{variant:"h5",mt:5},"\uae30\ud0c0\ud56d\ubaa9"),l.a.createElement(u.a,null,l.a.createElement(i.a,null,l.a.createElement(m.a,null,l.a.createElement(s.a,null,"\ud0a4"),l.a.createElement(s.a,null,"\uac12"))),l.a.createElement(f.a,null,Object.keys(t||{}).map((function(e){return l.a.createElement(m.a,{key:e},l.a.createElement(s.a,null,e),l.a.createElement(s.a,null,t[e]||""))})))))))}(b):l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{style:{minHeight:"150px"}}))}}}]);
//# sourceMappingURL=49.37ddcfed.chunk.js.map