{"version":3,"sources":["pages/indices/collection/ControlBox.js","pages/indices/collection/Source.js"],"names":["Box","styled","MuiBox","spacing","positions","Button","MuiButton","Grid","MuiGrid","timer","connect","store","authUser","dsearchReducers","collectionReducers","dispatch","collection","job","React","useState","actionOpen","setActionOpen","actionAnchorRef","useRef","connected","setConnected","processUI","setProcessUI","errorSnackbar","setErrorSnackbar","errorMessage","setErrorMessage","isRunningJob","useEffect","setCollection","clearTimeout","err","setTimeout","fetchJob","setCollectionJob","then","catch","error","handleClose","event","current","contains","target","handleAction","action","editCollectionAction","response","console","log","container","my","ml","item","xs","mt","style","alignSelf","CircularProgress","m","color","fontWeight","height","options","Fragment","Switch","onChange","editCollectionScheduleAction","checked","disabled","role","index","display","ButtonGroup","variant","ref","width","minWidth","maxWidth","size","onClick","prevOpen","Popper","open","anchorEl","undefined","transition","disablePortal","TransitionProps","placement","Grow","transformOrigin","Paper","ClickAwayListener","onClickAway","MenuList","id","map","option","MenuItem","key","handleMenuItemClick","Alert","iconMapping","success","fontSize","severity","info","border","LinearProgress","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","message","Typography","MuiTypography","Card","MuiCard","useStyles","makeStyles","theme","formControl","root","flexGrow","edit","typography","padding","TEMPLATE_LIST","TEMPLATE","NO_SELECTED","jdbcReducers","clusterReducers","JdbcList","classes","editModal","setEditModal","mode","setMode","setAnchorEl","setOpen","setPlacement","sourceName","setSourceName","launcherYaml","setLauncherYaml","scheme","setScheme","host","setHost","port","setPort","jdbcId","setJdbcId","cron","setCron","templateValue","setTemplateValue","isExtIndexer","setExtIndexer","esScheme","setEsScheme","esHost","setEsHost","esPort","setEsPort","esUser","setEsUser","esPassword","setEsPassword","invalid","setInvalid","aceEditor","toggleEditModal","currentTarget","editor","setValue","clearSelection","newPlacement","jdbcHitList","sourceAsMap","name","useJdbcList","filter","jdbcObj","CardContent","align","mx","Table","TableBody","TableRow","TableCell","component","Link","cursor","length","invalidCheck","trim","isValidCron","Object","keys","editCollectionSourceAction","extIndexer","launcher","yaml","getValue","alert","p","TextField","value","fullWidth","alignItems","justifyContent","marginBottom","FormControl","InputLabel","Select","labelId","i","tabSize","placeholder","setOptions","useWorker","onMouseOver","prev","Boolean","Fade","timeout","className","e","type","Dialog","DialogTitle","DialogContent","DialogActions"],"mappings":"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","file":"static/js/70.2fc6e7bd.chunk.js","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport {\r\n    Box as MuiBox,\r\n    Button as MuiButton,\r\n    CircularProgress,\r\n    Grid as MuiGrid,\r\n    Grow, LinearProgress,\r\n    MenuItem,\r\n    MenuList,\r\n    Paper,\r\n    Popper, Snackbar,\r\n    Switch,\r\n} from \"@material-ui/core\";\r\nimport {positions, spacing} from \"@material-ui/system\";\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport {\r\n    editCollectionAction,\r\n    editCollectionScheduleAction,\r\n    setCollection,\r\n    setCollectionJob\r\n} from \"../../../redux/actions/collectionActions\";\r\nimport {connect} from \"react-redux\";\r\nimport PlayCircleOutlineIcon from '@material-ui/icons/PlayCircleOutline';\r\nimport ScheduleIcon from '@material-ui/icons/Schedule';\r\nconst Box = styled(MuiBox)(spacing, positions);\r\nconst Button = styled(MuiButton)(spacing, positions);\r\nconst Grid = styled(MuiGrid)(spacing, positions);\r\n\r\n// const useStyles = makeStyles((theme) => ({\r\n//     formControl: {\r\n//         minWidth: 250,\r\n//     },\r\n//     root: {\r\n//         flexGrow: 1,\r\n//         width: '100%',\r\n//     },\r\n//     edit: {\r\n//         width: '100%'\r\n//     },\r\n//     typography: {\r\n//         padding: theme.spacing(2),\r\n//     },\r\n// }));\r\n\r\n// let testScheduleFlag = true\r\nlet timer = null\r\n\r\n\r\nlet pollingDelay = 2000\r\nfunction ControlBox({dispatch, authUser, collection, job}) {\r\n    const [actionOpen, setActionOpen] = React.useState(false);\r\n    const actionAnchorRef = React.useRef(null);\r\n    const [connected, setConnected] = useState(false)\r\n    const [processUI, setProcessUI] = useState(false)\r\n    const [errorSnackbar, setErrorSnackbar] = useState(false)\r\n    const [errorMessage, setErrorMessage] = useState(\"\")\r\n\r\n    // job이 있을 경우 데이터가 생김..\r\n    const isRunningJob = job['status'] ? true : false\r\n\r\n    // useEffect(() => {\r\n    //     dispatch(setCollection(collection['id']))\r\n    // }, [])\r\n\r\n    useEffect(() => {\r\n        dispatch(setCollection(collection['id']))\r\n        \r\n        const fetchJob = () => {\r\n            dispatch(setCollectionJob(collection['id']))\r\n                .then(job => {\r\n                    setConnected(true); \r\n                    if (timer != null) {\r\n                        try {\r\n                            clearTimeout(timer)\r\n                            timer = null\r\n                        } catch(err) {}\r\n                    }\r\n                    timer = setTimeout(fetchJob, pollingDelay)\r\n                })\r\n                .catch(error => {\r\n                    setConnected(false); \r\n                    if (timer != null) {\r\n                        try {\r\n                            clearTimeout(timer)\r\n                            timer = null\r\n                        } catch(err) {}\r\n                    }\r\n                    timer = setTimeout(fetchJob, pollingDelay)\r\n                })\r\n        }\r\n        if (timer != null) {\r\n            try {\r\n                clearTimeout(timer)\r\n                timer = null\r\n            } catch(err) {}\r\n        }\r\n\r\n        timer = setTimeout(() => fetchJob(), 500);\r\n        return () => {\r\n            try {\r\n                clearTimeout(timer)\r\n            } catch(error) {\r\n                // ignore..\r\n            }\r\n        }\r\n    }, []) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    const handleMenuItemClick = (event, option, index) => {\r\n        if ('연속실행' === option) {\r\n            handleAction('all')\r\n        } else if ('색인실행' === option) {\r\n            handleAction('indexing')\r\n        } else if ('전파실행' === option) {\r\n            handleAction('propagate')\r\n        } else if ('교체실행' === option) {\r\n            handleAction('expose')\r\n        }\r\n        setActionOpen(false);\r\n    };\r\n    const handleToggle = () => {\r\n        setActionOpen((prevOpen) => !prevOpen);\r\n    };\r\n    const handleClose = (event) => {\r\n        if (actionAnchorRef.current && actionAnchorRef.current.contains(event.target)) {\r\n            return;\r\n        }\r\n        setActionOpen(false);\r\n    };\r\n\r\n    function handleEditSchedule(event) {\r\n        setProcessUI(true)\r\n        dispatch(editCollectionScheduleAction(collection['id'], event.target.checked))\r\n            .then(response => {\r\n                dispatch(setCollection(collection['id']))\r\n                setTimeout(() => {\r\n                    setProcessUI(false)\r\n                }, 2000)\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n                setErrorMessage(\"\" + error)\r\n                setErrorSnackbar(true)\r\n                dispatch(setCollection(collection['id']))\r\n                setTimeout(() => {\r\n                    setProcessUI(false)\r\n                }, 2000)\r\n            })\r\n    }\r\n    function handleAction(action) {\r\n        setProcessUI(true)\r\n        // actions: all, indexing, propagate, expose, stop_propagation, stop_indexing\r\n        dispatch(editCollectionAction(collection['id'], action))\r\n            .then(response => {\r\n                dispatch(setCollection(collection['id']))\r\n                setTimeout(() => {\r\n                    setProcessUI(false)\r\n                }, 4000)\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n                setErrorMessage(\"\" + error)\r\n                setErrorSnackbar(true)\r\n                dispatch(setCollection(collection['id']))\r\n                setTimeout(() => {\r\n                    setProcessUI(false)\r\n                }, 4000)\r\n            })\r\n    }\r\n\r\n    function handleErrorSnackbarClose() {\r\n        setErrorSnackbar(false)\r\n    }\r\n\r\n    if (connected === false) {\r\n        return (\r\n            <Grid container my={0} ml={4}>\r\n                <Grid item xs={9} mt={2} style={{alignSelf: \"center\"}}>\r\n                    <Box>\r\n                        연결 중...\r\n                    </Box>\r\n                    <Box>\r\n                        <CircularProgress m={2} color=\"secondary\" />\r\n                    </Box>\r\n                </Grid>\r\n            </Grid>\r\n        )\r\n    }\r\n\r\n    if (processUI) {\r\n        return (\r\n            <Grid container my={0} ml={4}>\r\n                <Grid item xs={3} >\r\n                    <Grid container my={3}>\r\n                        <Grid item xs={3} mt={2}>\r\n                            <Box style={{fontWeight: \"bold\"}}>스케쥴</Box>\r\n                        </Grid>\r\n                        <Grid item xs={9}>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <Grid container my={3}>\r\n                        <Grid item xs={3} mt={5} style={{height: '37px'}}>\r\n                            <b>상태</b>\r\n                        </Grid>\r\n                        <Grid item xs={9}>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                </Grid>\r\n                <Grid item xs={9} mt={2} style={{alignSelf: \"center\"}}>\r\n                    <Box>\r\n                        <CircularProgress m={2} color=\"secondary\" />\r\n                    </Box>\r\n                </Grid>\r\n            </Grid>\r\n        )\r\n    }\r\n\r\n    let options = ['연속실행', '색인실행', '전파실행', '교체실행'];\r\n    // if (typeof collection['ignoreRoleYn'] === \"string\" && collection['ignoreRoleYn'] === \"Y\") {\r\n    //     options = ['연속실행', '색인실행', '교체실행'];\r\n    // }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Grid container my={3} ml={4}>\r\n                <Grid item xs={3} mt={2}>\r\n                    <Box style={{fontWeight: \"bold\"}}>스케쥴</Box>\r\n                </Grid>\r\n                <Grid item xs={9}>\r\n                    <Switch onChange={handleEditSchedule}\r\n                            checked={collection['scheduled']}\r\n                            disabled={!authUser.role.index}\r\n                    />\r\n                </Grid>\r\n            </Grid>\r\n\r\n            <Grid container my={3} ml={4}>\r\n                <Grid item xs={3} mt={2} style={{height: '40px'}}>\r\n                    <b>상태</b>\r\n                </Grid>\r\n                <Grid item xs={9}>\r\n                    {/* 컨트롤 가능한 상태 */}\r\n                    <Box style={{display: isRunningJob === false && collection['scheduled'] === false ? \"block\" : \"none\"}}>\r\n                        <ButtonGroup variant=\"contained\" color=\"primary\" ref={actionAnchorRef}>\r\n                            <Button disabled={true}\r\n                                    style={{width: '100%', minWidth: \"150px\", maxWidth: \"300px\", color: \"black\"}}\r\n                            >\r\n                                수동 실행\r\n                            </Button>\r\n                            {authUser.role.index ?\r\n                                <Button\r\n                                    color=\"primary\"\r\n                                    size=\"small\"\r\n                                    onClick={handleToggle}\r\n                                    disabled={!authUser.role.index}\r\n                                >\r\n                                    <ArrowDropDownIcon/>\r\n                                </Button>\r\n                                :\r\n                                <></>\r\n                            }\r\n                        </ButtonGroup>\r\n                        <Popper open={actionOpen} anchorEl={actionAnchorRef.current} role={undefined}\r\n                                transition disablePortal>\r\n                            {({TransitionProps, placement}) => (\r\n                                <Grow\r\n                                    {...TransitionProps}\r\n                                    style={{\r\n                                        transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom',\r\n                                    }}\r\n                                >\r\n                                    <Paper>\r\n                                        <ClickAwayListener onClickAway={handleClose}>\r\n                                            <MenuList id=\"split-button-menu\">\r\n                                                {options.map((option, index) => (\r\n                                                    <MenuItem\r\n                                                        key={option}\r\n                                                        onClick={(event) => handleMenuItemClick(event, option, index)}\r\n                                                    >\r\n                                                        {option}\r\n                                                    </MenuItem>\r\n                                                ))}\r\n                                            </MenuList>\r\n                                        </ClickAwayListener>\r\n                                    </Paper>\r\n                                </Grow>\r\n                            )}\r\n                        </Popper>\r\n                    </Box>\r\n                    <Box style={{\r\n                        display: isRunningJob === false && collection['scheduled'] === true ? \"block\" : \"none\",\r\n                        width: '100%', minWidth: \"150px\", maxWidth: \"400px\", color: \"black\" }}\r\n                    >\r\n                        <Alert iconMapping={{ success: <ScheduleIcon fontSize=\"inherit\" /> }}\r\n                               severity=\"success\"\r\n                               style={{display: isRunningJob ? 'none' : 'flex'}}\r\n                        >스케쥴 대기중</Alert>\r\n                    </Box>\r\n\r\n                    <Box style={{\r\n                        display: (isRunningJob === true && collection['scheduled'] === false) || (isRunningJob === true && collection['scheduled'] === true) ? \"block\" : \"none\",\r\n                        width: '100%', minWidth: \"150px\", maxWidth: \"400px\", color: \"black\" }}\r\n                    >\r\n                        <Box style={{display: job['currentStep'] === 'FULL_INDEX' || job['currentStep'] === 'DYNAMIC_INDEX' ? 'block' : 'none' }}>\r\n                            <Alert iconMapping={{ info: <PlayCircleOutlineIcon fontSize=\"inherit\" style={{alignSelf: \"center\"}}/> }}\r\n                                   severity=\"info\"\r\n                                   action={<Button color=\"inherit\" style={{border: \"1px solid silver\"}} size=\"small\" onClick={() => handleAction('stop_indexing')}> 정지 </Button> }\r\n                            >\r\n                                <LinearProgress/>\r\n                                <Box mt={2}>\r\n                                    색인을 진행하고 있습니다.\r\n                                </Box>\r\n                            </Alert>\r\n                        </Box>\r\n\r\n                        <Box style={{display: job['currentStep'] === 'PROPAGATE' ? 'block' : 'none' }}>\r\n                            <Alert iconMapping={{ info: <PlayCircleOutlineIcon fontSize=\"inherit\" style={{alignSelf: \"center\"}}/> }}\r\n                                   severity=\"info\"\r\n                                   action={<Button color=\"inherit\" style={{border: \"1px solid silver\"}} size=\"small\" onClick={() => handleAction('stop_propagation')}> 취소 </Button> }\r\n                            >\r\n                                <LinearProgress />\r\n                                <Box mt={2}>\r\n                                    전파를 진행하고 있습니다.\r\n                                </Box>\r\n                            </Alert>\r\n                        </Box>\r\n\r\n                        <Box style={{display: job['currentStep'] === 'EXPOSE' ? 'block' : 'none' }}>\r\n                            <Alert iconMapping={{ info: <PlayCircleOutlineIcon fontSize=\"inherit\" /> }}\r\n                                   severity=\"info\"\r\n                            >\r\n                                <LinearProgress />\r\n                                교체를 진행하고 있습니다.\r\n                            </Alert>\r\n                        </Box>\r\n\r\n                    </Box>\r\n\r\n                </Grid>\r\n            </Grid>\r\n\r\n            <Snackbar\r\n                anchorOrigin={{ vertical: 'top', horizontal: 'right'}}\r\n                autoHideDuration={6000}\r\n                open={errorSnackbar}\r\n                onClose={handleErrorSnackbarClose}\r\n                severity=\"error\"\r\n                message={\"요청이 실패되었습니다. \" + errorMessage}\r\n                key={\"errorSnackbar\"}\r\n            />\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default connect(store => ({ authUser: store.dsearchReducers.authUser, ...store.collectionReducers }))(ControlBox);\r\n","import React, {useEffect, useState, useRef} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n    Box as MuiBox,\r\n    Button as MuiButton,\r\n    Card as MuiCard,\r\n    CardContent,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogTitle,\r\n    Fade,\r\n    Grid as MuiGrid,\r\n    Link,\r\n    MenuItem,\r\n    Paper,\r\n    Popper,\r\n    Select,\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableRow,\r\n    TextField,\r\n    Typography as MuiTypography,\r\n    FormControl,\r\n    InputLabel,\r\n    Switch,\r\n} from \"@material-ui/core\";\r\n\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {positions, spacing} from \"@material-ui/system\";\r\nimport {connect} from \"react-redux\";\r\nimport {editCollectionSourceAction, setCollection} from \"../../../redux/actions/collectionActions\";\r\nimport {isValidCron} from 'cron-validator'\r\nimport ControlBox from \"./ControlBox\";\r\nimport AceEditor from \"react-ace\";\r\nimport \"ace-builds/src-noconflict/mode-yaml\";\r\nimport \"ace-builds/src-noconflict/theme-kuroir\";\r\n\r\nconst Typography = styled(MuiTypography)(spacing, positions);\r\nconst Box = styled(MuiBox)(spacing, positions);\r\nconst Card = styled(MuiCard)(spacing, positions);\r\nconst Button = styled(MuiButton)(spacing, positions);\r\nconst Grid = styled(MuiGrid)(spacing, positions);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        minWidth: 250,\r\n    },\r\n    root: {\r\n        flexGrow: 1,\r\n        width: '100%',\r\n    },\r\n    edit: {\r\n        width: '100%'\r\n    },\r\n    typography: {\r\n        padding: theme.spacing(2),\r\n    },\r\n}));\r\n\r\n// const TEMPLATE_LIST = [\"ndjson\", \"konan\", \"csv\", \"file\", \"procedure\", \"database\"]\r\nconst TEMPLATE_LIST = [\"ndjson\", \"csv\", \"file\", \"procedure\", \"database\"]\r\nconst TEMPLATE = {\r\n    \"ndjson\" : \r\n`type: ndjson\r\npath: /data/source/search-prod.ndjson\r\nencoding: utf-8\r\nbulkSize: 10000\r\nreset: true\r\nthreadSize: 1`,\r\n\r\n// \"konan\" : \r\n// `scheme: http\r\n// host: localhost\r\n// port: 9200\r\n// type: konan\r\n// path: /data/directory or /data/directory/sourceFile\r\n// encoding: utf-8\r\n// bulkSize: 10000\r\n// reset: true\r\n// threadSize: 1`,\r\n\r\n    \"csv\" : \r\n`type: csv\r\npath: /data/source/search-prod.csv\r\nencoding: utf-8\r\nbulkSize: 10000\r\nreset: true\r\nthreadSize: 1`,\r\n\r\n\"file\" : \r\n`type: file\r\npath: /data/source/prodExt_dump\r\nencoding: utf-8\r\nbulkSize: 10000\r\nreset: true\r\nthreadSize: 1\r\nheaderText:\"name,color,price\"\r\ndelimiter: \"^\"`,\r\n\r\n    \"procedure\": \r\n`type: procedure\r\nbulkSize: 1000\r\ndriverClassName: \"Altibase.jdbc.driver.AltibaseDriver\"\r\nfilterClass: \"com.danawa.fastcatx.indexer.filter.DanawaProductFilter\"\r\nurl: \"jdbc:Altibase://localhost:20200/DANAWA_ALTI\"\r\nuser: \"root\"\r\npassword: \"qwerty123456\"\r\nprocedureName: \"procedureName1\"\r\ndumpFormat: \"konan\"\r\ngroupSeq: 1\r\nbwlimit: \"10240\"\r\npath: \"/data/product/VM\"\r\nrsyncIp: \"remote server IP\"\r\nrsyncPath: \"search_data_alti\"\r\nencoding: CP949\r\nprocedureSkip: true\r\nrsyncSkip: true\r\nthreadSize: 1\r\n`,\r\n\r\n    \"database\": \r\n`bulkSize: 10000\r\nfetchSize: 10000\r\ntype: jdbc\r\npipeLine: \"pipeline\"\r\nthreadSize: 1\r\ndataSQL : \"SELECT * FROM myTable\"`\r\n};\r\nconst NO_SELECTED = 'NO_SELECTED';\r\nconst DEFAULT_CRON = '0 0 * * *'\r\n\r\nfunction Source({dispatch, authUser, collection, JdbcList}) {\r\n    const classes = useStyles();\r\n    const [editModal, setEditModal] = useState(null)\r\n    const [mode, setMode] = useState(\"VIEW\")\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const [open, setOpen] = React.useState(null);\r\n    const [placement, setPlacement] = React.useState();\r\n\r\n    const [sourceName, setSourceName] = useState(\"\")\r\n    const [launcherYaml, setLauncherYaml] = useState(\"\")\r\n    const [scheme, setScheme] = useState(\"http\")\r\n    const [host, setHost] = useState(\"\")\r\n    const [port, setPort] = useState(\"\")\r\n    const [jdbcId, setJdbcId] = useState(NO_SELECTED)\r\n    const [cron, setCron] = useState(\"\")\r\n    const [templateValue, setTemplateValue] = useState(TEMPLATE_LIST[0]);\r\n\r\n    const [isExtIndexer, setExtIndexer] = useState(false);\r\n    const [esScheme, setEsScheme] = useState(\"http\");\r\n    const [esHost, setEsHost] = useState(\"\");\r\n    const [esPort, setEsPort] = useState(\"\");\r\n    const [esUser, setEsUser] = useState(\"\");\r\n    const [esPassword, setEsPassword] = useState(\"\");\r\n    const [invalid, setInvalid] = useState({})\r\n\r\n    const aceEditor = useRef(null)\r\n\r\n    useEffect(() => {\r\n        setInvalid({})\r\n        if (collection['sourceName'] === undefined || collection['sourceName'] === null || collection['sourceName'] === \"\") {\r\n            /* FORCE_EDIT(생성하고 아무런 데이터가 없을 때) 모드일때만 */\r\n            setMode(\"FORCE_EDIT\");\r\n            // aceEditor.current.editor.setValue(DEFAULT_YAML)\r\n            aceEditor.current.editor.setValue(TEMPLATE[TEMPLATE_LIST[0]]);\r\n        } else {\r\n            setSourceName(collection['sourceName']);\r\n            setScheme((collection['launcher']||{})['scheme']||\"\");\r\n            setHost((collection['launcher']||{})['host']||\"\");\r\n            setPort((collection['launcher']||{})['port']||\"\");\r\n\r\n            setExtIndexer(collection['extIndexer'])\r\n            setEsScheme(collection['esScheme'])\r\n            setEsHost(collection['esHost'])\r\n            setEsPort(collection['esPort'])\r\n            setEsUser(collection['esUser'])\r\n            setEsPassword(collection['esPassword'])\r\n\r\n            // setJdbcId(collection['jdbcId']);\r\n            setJdbcId(collection['jdbcId'] === '' ? NO_SELECTED : collection['jdbcId'])\r\n            setCron(collection['cron']);\r\n            setLauncherYaml((collection['launcher']||{})['yaml']||\"\");\r\n            aceEditor.current.editor.setValue((collection['launcher']||{})['yaml']||\"\")\r\n            aceEditor.current.editor.clearSelection()\r\n        }\r\n    }, []) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    useEffect(() => {\r\n        try {\r\n            if (mode === \"EDIT\") {\r\n                setSourceName(collection['sourceName']);\r\n                setScheme((collection['launcher']||{})['scheme']||\"\");\r\n                setHost((collection['launcher']||{})['host']||\"\");\r\n                setPort((collection['launcher']||{})['port']||\"\");\r\n\r\n                setExtIndexer(collection['extIndexer'])\r\n                setEsScheme(collection['esScheme'])\r\n                setEsHost(collection['esHost'])\r\n                setEsPort(collection['esPort'])\r\n                setEsUser(collection['esUser'])\r\n                setEsPassword(collection['esPassword'])\r\n\r\n                // setJdbcId(collection['jdbcId']);\r\n                setJdbcId(collection['jdbcId'] === '' ? NO_SELECTED : collection['jdbcId'])\r\n                setCron(collection['cron']);\r\n                setLauncherYaml((collection['launcher']||{})['yaml']||\"\");\r\n                aceEditor.current.editor.setValue((collection['launcher']||{})['yaml']||\"\")\r\n                aceEditor.current.editor.clearSelection()\r\n            }\r\n        } catch (error) {\r\n            console.log('change ace editor')\r\n        }\r\n    }, [mode]) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n\r\n    function toggleEditModal(event) {\r\n        setEditModal(editModal === null ? event.currentTarget : null)\r\n    }\r\n\r\n    const handleClick = (newPlacement) => (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n        setOpen((prev) => placement !== newPlacement || !prev);\r\n        setPlacement(newPlacement);\r\n    }\r\n\r\n    function handleSaveProcess() {\r\n        setInvalid({})\r\n        let invalidCheck = {}\r\n        if (sourceName.trim() === \"\") {\r\n            invalidCheck['sourceName'] = true\r\n        }\r\n        if(cron.length === 0){\r\n            setCron(DEFAULT_CRON)\r\n        }else if (!isValidCron(cron)) {\r\n            invalidCheck['cron'] = true\r\n        }\r\n\r\n        if (isExtIndexer) {\r\n            // || !/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/gi.test(host)\r\n            if (host.trim() === \"\") {\r\n                invalidCheck['host'] = true\r\n            }\r\n            if (port === \"\") {\r\n                invalidCheck['port'] = true\r\n            }\r\n            // || !/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/gi.test(host)\r\n            if (esHost.trim() === \"\") {\r\n                invalidCheck['esHost'] = true\r\n            }\r\n            if (esPort === \"\") {\r\n                invalidCheck['esPort'] = true\r\n            }\r\n        }\r\n\r\n        if (Object.keys(invalidCheck).length > 0) {\r\n            setInvalid(invalidCheck)\r\n            return false\r\n        }\r\n        \r\n        dispatch(editCollectionSourceAction(collection['id'], {\r\n            sourceName,\r\n            cron: (cron.length === 0 ? DEFAULT_CRON : cron),\r\n            jdbcId: (jdbcId === NO_SELECTED ? '' : jdbcId),\r\n            extIndexer: isExtIndexer,\r\n            esScheme, esHost: esHost.trim(), esPort, esUser: esUser.trim(), esPassword: esPassword.trim(),\r\n            launcher: {\r\n                yaml: aceEditor.current.editor.getValue() || '',\r\n                scheme: isExtIndexer ? scheme : \"http\", host: isExtIndexer ? host.trim() : \"\", port: isExtIndexer ? port : \"\",\r\n            }\r\n        })).then(response => {\r\n            dispatch(setCollection(collection['id']))\r\n            setMode(\"VIEW\")\r\n        }).catch(error => {\r\n            console.log(error)\r\n            alert(error)\r\n        })\r\n    }\r\n\r\n    const handleTemplateValue = (event) => {\r\n        setTemplateValue(event.target.value);\r\n        aceEditor.current.editor.setValue(TEMPLATE[event.target.value]);\r\n    }\r\n\r\n    let jdbcHitList = [\r\n        { id: NO_SELECTED, sourceAsMap: {name: '선택안함'} },\r\n        ...((JdbcList['hits']||{})['hits']||[])\r\n    ]\r\n\r\n    let useJdbcList = jdbcHitList.filter(jdbcObj => (collection['jdbcId'] === '' ? NO_SELECTED : collection['jdbcId']) === jdbcObj['id']).map(jdbcObj => jdbcObj['sourceAsMap']['name'])\r\n\r\n    return (\r\n        <React.Fragment>\r\n\r\n            <br/>\r\n\r\n            <Card>\r\n                <CardContent>\r\n                    <Box style={{display: mode === \"VIEW\" ? \"block\" : \"none\"}}>\r\n                        <Grid container>\r\n                            <Grid item xs={10}>\r\n\r\n                                <ControlBox />\r\n\r\n                            </Grid>\r\n                            <Grid item xs={2} align={\"right\"}>\r\n                                {authUser.role.index ? <Button mx={1} variant={\"outlined\"} onClick={() => setMode(\"EDIT\")}>\r\n                                    수정\r\n                                </Button> : <></>}\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid container>\r\n                            <Grid item xs={12}>\r\n                                <Box>\r\n                                    <Table>\r\n                                        <TableBody>\r\n                                            <TableRow>\r\n                                                <TableCell variant={\"head\"} component={\"th\"}>파라미터</TableCell>\r\n                                                <TableCell>\r\n                                                    <Link style={{cursor: \"pointer\"}}\r\n                                                          onClick={toggleEditModal}\r\n                                                    >YAML</Link>\r\n                                                </TableCell>\r\n                                            </TableRow>\r\n                                            {\r\n                                                collection['extIndexer'] ?\r\n                                                    <React.Fragment>\r\n                                                        <TableRow>\r\n                                                            <TableCell variant={\"head\"} component={\"th\"}>전용 인덱서</TableCell>\r\n                                                            <TableCell>\r\n                                                                {(collection['launcher']||{})['scheme']||''}://\r\n                                                                {(collection['launcher']||{})['host']||''}:\r\n                                                                {(collection['launcher']||{})['port'] === 0 ? \"\" : (collection['launcher']||{})['port']||''}\r\n                                                            </TableCell>\r\n                                                        </TableRow>\r\n                                                    </React.Fragment>\r\n                                                    :\r\n                                                    <React.Fragment>\r\n                                                        <TableRow>\r\n                                                            <TableCell variant={\"head\"} component={\"th\"}>전용인덱서 정보</TableCell>\r\n                                                            <TableCell> 사용안함 </TableCell>\r\n                                                        </TableRow>\r\n                                                    </React.Fragment>\r\n                                            }\r\n\r\n                                            <TableRow>\r\n                                                <TableCell variant={\"head\"} component={\"th\"}>엘라스틱서치 정보</TableCell>\r\n                                                <TableCell>\r\n                                                    {collection['esScheme']||''}://\r\n                                                    {collection['esHost']||''}:\r\n                                                    {collection['esPort']||''}\r\n                                                    {\r\n                                                        collection['esUser'] !== \"\" ?\r\n                                                            <Box component={\"span\"}> (사용자: {collection['esUser']})</Box>\r\n                                                            :\r\n                                                            null\r\n                                                    }\r\n                                                </TableCell>\r\n                                            </TableRow>\r\n\r\n\r\n                                            <TableRow>\r\n                                                <TableCell variant={\"head\"} component={\"th\"}>JDBC</TableCell>\r\n                                                <TableCell>\r\n                                                    {\r\n                                                        useJdbcList.length === 0 ?\r\n                                                            \"사용안함\"\r\n                                                            :\r\n                                                            useJdbcList[0]\r\n                                                    }\r\n                                                </TableCell>\r\n                                            </TableRow>\r\n                                            <TableRow>\r\n                                                <TableCell variant={\"head\"} component={\"th\"}>크론주기</TableCell>\r\n                                                <TableCell> {collection['cron']} </TableCell>\r\n                                            </TableRow>\r\n                                        </TableBody>\r\n                                    </Table>\r\n                                </Box>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Box>\r\n\r\n\r\n                    {/*======================================= EDIT MODE  ===========================================*/}\r\n\r\n                    <Box style={{display: mode === \"EDIT\" || mode === \"FORCE_EDIT\" ? \"block\" : \"none\"}}>\r\n                        <Grid container>\r\n                            <Grid item xs={8}>\r\n\r\n                            </Grid>\r\n                            <Grid item xs={4} align={\"right\"}>\r\n                                <Button mx={1}\r\n                                        variant={\"outlined\"}\r\n                                        onClick={handleSaveProcess}\r\n                                        style={{display: authUser.role.index ? 'inline' : 'none'}}\r\n                                >\r\n                                    저장\r\n                                </Button>\r\n                                <Button style={{display: authUser.role.index ? mode === 'EDIT' ? \"inline\" : \"none\" : \"none\"}} mx={1}\r\n                                        variant={\"outlined\"}\r\n                                        onClick={() => setMode(\"VIEW\")}\r\n                                >\r\n                                    취소\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid container>\r\n                            <Grid item xs={12}>\r\n                                <Box p={5}>\r\n                                    <Table>\r\n                                        <TableBody>\r\n\r\n                                            <TableRow>\r\n                                                <TableCell variant={\"head\"} component={\"th\"}>이름</TableCell>\r\n                                                <TableCell>\r\n                                                    <TextField value={sourceName}\r\n                                                               onChange={event => setSourceName(event.target.value)}\r\n                                                               fullWidth\r\n                                                               error={invalid['sourceName']||false}\r\n                                                    />\r\n                                                </TableCell>\r\n                                            </TableRow>\r\n\r\n                                            <TableRow>\r\n                                                <TableCell variant={\"head\"} component={\"th\"}>파라미터 YAML</TableCell>\r\n                                                <TableCell>\r\n                                                    {/*<TextareaAutosize value={launcherYaml}*/}\r\n                                                    {/*                  onChange={event => setLauncherYaml(event.target.value)}*/}\r\n                                                    {/*                  style={{width: \"100%\", minHeight: \"200px\"}}*/}\r\n                                                    {/*/>*/}\r\n                                                    <Box display=\"flex\" alignItems=\"center\"  justifyContent=\"space-between\" width=\"100%\" marginBottom=\"8px\">\r\n                                                        <div></div>\r\n                                                        <FormControl style={{width: \"200px\"}}>\r\n                                                            <InputLabel id=\"demo-simple-select-label\">수집소스 템플릿</InputLabel>\r\n                                                            <Select\r\n                                                                labelId=\"demo-simple-select-label\"\r\n                                                                id=\"demo-simple-select\"\r\n                                                                value={templateValue}\r\n                                                                onChange={handleTemplateValue}\r\n                                                            >\r\n                                                                {\r\n                                                                    TEMPLATE_LIST.map((item, i) => (<MenuItem key={i} value={item}>{item}</MenuItem>))\r\n                                                                }\r\n                                                            </Select>\r\n                                                        </FormControl>\r\n                                                    </Box>\r\n                                                    <AceEditor\r\n                                                        ref={aceEditor}\r\n                                                        mode=\"yaml\"\r\n                                                        theme=\"kuroir\"\r\n                                                        fontSize=\"15px\"\r\n                                                        height={\"400px\"}\r\n                                                        width=\"100%\"\r\n                                                        tabSize={2}\r\n                                                        placeholder=\"type: 'jdbc'\"\r\n                                                        setOptions={{ useWorker: false }}\r\n                                                        onChange={() => {\r\n                                                            let yaml = aceEditor.current.editor.getValue()\r\n                                                            if (launcherYaml !== yaml) {\r\n                                                                setLauncherYaml(yaml)\r\n                                                            }\r\n                                                        }}\r\n                                                    />\r\n                                                </TableCell>\r\n                                            </TableRow>\r\n                                            <TableRow>\r\n                                                <TableCell variant={\"head\"} component={\"th\"}>JDBC</TableCell>\r\n                                                <TableCell>\r\n                                                    <Select value={jdbcId}\r\n                                                            onChange={event => setJdbcId(event.target.value)}\r\n                                                            style={{minWidth: \"100%\"}}\r\n                                                            error={invalid['jdbcId']||false}\r\n                                                    >\r\n                                                        {\r\n                                                            jdbcHitList.map((jdbcObj, index) => {\r\n                                                                return (\r\n                                                                    <MenuItem key={index}\r\n                                                                              value={jdbcObj['id']}\r\n                                                                    >\r\n                                                                        {(jdbcObj['sourceAsMap']||{})['name']||\"\"}\r\n                                                                    </MenuItem>\r\n                                                                )\r\n                                                            })\r\n                                                        }\r\n                                                    </Select>\r\n                                                </TableCell>\r\n                                            </TableRow>\r\n\r\n                                            <TableRow>\r\n                                                <TableCell variant={\"head\"} component={\"th\"}>크론주기</TableCell>\r\n                                                <TableCell>\r\n                                                    <Grid container>\r\n                                                        <Grid item xs={11}>\r\n                                                            <TextField value={cron}\r\n                                                                       onChange={event => setCron(event.target.value)}\r\n                                                                       fullWidth\r\n                                                                       placeholder={\"분 시 일 월 요일 (default: 0 0 * * *)\"}\r\n                                                                       error={invalid['cron']||false}\r\n                                                            />\r\n                                                        </Grid>\r\n                                                        <Grid item xs={1}>\r\n                                                            <Link onMouseOver={handleClick('top')}>예제</Link>\r\n                                                            <Popper open={Boolean(open)} anchorEl={anchorEl}\r\n                                                                    placement={placement} transition>\r\n                                                                {({TransitionProps}) => (\r\n                                                                    <Fade {...TransitionProps} timeout={350}>\r\n                                                                        <Paper>\r\n                                                                            <Typography className={classes.typography}>\r\n                                                                                예제<br/>\r\n                                                                                */1 * * * * : 1분마다 한 번씩<br/>\r\n                                                                                */5 * * * * : 5분마다 한 번씩<br/>\r\n                                                                                0 5 1 * * : 매달 1일 새벽 5시에 실행.<br/>\r\n                                                                                0 5,11 * * 0,3 : 매주 일요일과 수요일 새벽 5시와 밤\r\n                                                                                11시.<br/>\r\n                                                                                0 5,11 * * * : 새벽 5시와 밤 11시\r\n                                                                            </Typography>\r\n                                                                        </Paper>\r\n                                                                    </Fade>\r\n                                                                )}\r\n                                                            </Popper>\r\n                                                        </Grid>\r\n                                                    </Grid>\r\n                                                </TableCell>\r\n                                            </TableRow>\r\n\r\n                                            <TableRow>\r\n                                                <TableCell variant={\"head\"} component={\"th\"}>엘라스틱서치 정보</TableCell>\r\n                                                <TableCell>\r\n                                                    <Box my={3}>\r\n                                                        <Select style={{minWidth: \"100%\"}}\r\n                                                                value={esScheme}\r\n                                                                onChange={e => setEsScheme(e.target.value)}\r\n                                                        >\r\n                                                            <MenuItem key={1}\r\n                                                                      value={\"http\"}\r\n                                                            >\r\n                                                                HTTP\r\n                                                            </MenuItem>\r\n                                                            <MenuItem key={1}\r\n                                                                      value={\"https\"}\r\n                                                            >\r\n                                                                HTTPS\r\n                                                            </MenuItem>\r\n                                                        </Select>\r\n                                                    </Box>\r\n                                                    <Box my={3}>\r\n                                                        <TextField value={esHost}\r\n                                                                   onChange={e => setEsHost(e.target.value)}\r\n                                                                   fullWidth\r\n                                                                   placeholder={\"elastic.com\"}\r\n                                                                   error={invalid['esHost']||false}\r\n                                                        />\r\n                                                    </Box>\r\n                                                    <Box my={3}>\r\n                                                        <TextField value={esPort}\r\n                                                                   onChange={e => setEsPort(e.target.value)}\r\n                                                                   fullWidth\r\n                                                                   type={\"number\"}\r\n                                                                   placeholder={\"9200\"}\r\n                                                                   error={invalid['esPort']||false}\r\n                                                        />\r\n                                                    </Box>\r\n                                                    <Box my={3}>\r\n                                                        <TextField value={esUser}\r\n                                                                   onChange={e => setEsUser(e.target.value)}\r\n                                                                   fullWidth\r\n                                                                   placeholder={\"elastic\"}\r\n                                                        />\r\n                                                    </Box>\r\n                                                    <Box my={3}>\r\n                                                        <TextField value={esPassword}\r\n                                                                   onChange={e => setEsPassword(e.target.value)}\r\n                                                                   fullWidth\r\n                                                                   type={\"password\"}\r\n                                                                   placeholder={\"password\"}\r\n                                                        />\r\n                                                    </Box>\r\n                                                </TableCell>\r\n                                            </TableRow>\r\n\r\n                                            <TableRow>\r\n                                                <TableCell variant={\"head\"} component={\"th\"}>전용인덱서</TableCell>\r\n                                                <TableCell>\r\n                                                    <Typography component=\"div\">\r\n                                                        <Grid component=\"label\" container alignItems=\"center\" spacing={1}>\r\n                                                            <Grid item>사용안함</Grid>\r\n                                                            <Grid item>\r\n                                                                <Switch checked={isExtIndexer} onChange={() => setExtIndexer((!isExtIndexer))}  />\r\n                                                            </Grid>\r\n                                                            <Grid item>사용</Grid>\r\n                                                        </Grid>\r\n                                                    </Typography>\r\n                                                </TableCell>\r\n                                            </TableRow>\r\n\r\n                                            <TableRow style={{display: isExtIndexer ? \"table-row\" : \"none\" }}>\r\n                                                <TableCell variant={\"head\"} component={\"th\"}>전용인덱서 정보</TableCell>\r\n                                                <TableCell>\r\n                                                    <Box my={3}>\r\n                                                        <Select style={{minWidth: \"100%\"}}\r\n                                                                value={scheme}\r\n                                                                onChange={e => setScheme(e.target.value)}\r\n                                                        >\r\n                                                            <MenuItem value={\"http\"}>\r\n                                                                HTTP\r\n                                                            </MenuItem>\r\n                                                            <MenuItem value={\"https\"}>\r\n                                                                HTTPS\r\n                                                            </MenuItem>\r\n                                                        </Select>\r\n                                                    </Box>\r\n                                                    <Box my={3}>\r\n                                                        <TextField value={host}\r\n                                                                   onChange={event => setHost(event.target.value)}\r\n                                                                   fullWidth\r\n                                                                   placeholder={\"127.0.0.1\"}\r\n                                                                   error={invalid['host']||false}\r\n                                                        />\r\n                                                    </Box>\r\n                                                    <Box my={3}>\r\n                                                        <TextField value={port}\r\n                                                                   onChange={event => setPort(event.target.value)}\r\n                                                                   fullWidth\r\n                                                                   placeholder={\"5005\"}\r\n                                                                   type={\"number\"}\r\n                                                                   error={invalid['port']||false}\r\n                                                        />\r\n                                                    </Box>\r\n                                                </TableCell>\r\n                                            </TableRow>\r\n                                        </TableBody>\r\n                                    </Table>\r\n                                </Box>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Box>\r\n                </CardContent>\r\n            </Card>\r\n\r\n            <Dialog open={Boolean(editModal)}\r\n                    fullWidth\r\n                    onClose={toggleEditModal}\r\n            >\r\n                <DialogTitle>\r\n                    설정\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    <pre>\r\n                        {(collection['launcher'] || {})['yaml']}\r\n                    </pre>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={toggleEditModal}>닫기</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default connect(store => ({\r\n    authUser: store.dsearchReducers.authUser,\r\n    ...store.collectionReducers,\r\n    ...store.jdbcReducers,\r\n    ...store.clusterReducers,\r\n}))(Source);\r\n"],"sourceRoot":""}